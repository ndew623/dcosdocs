<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Frequently Asked Questions - D2iQ Docs</title><meta name="description" content="Frequently asked questions about deploying Marathon services"><link rel="apple-touch-icon" sizes="180x180" href="/dcosdocs/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/dcosdocs/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/dcosdocs/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/dcosdocs/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/dcosdocs/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/2.0/deploying-services/faq">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 2.0"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/faq">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/deploying-services/faq">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/faq">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/deploying-services/faq">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 2.0</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/multi-tenancy/"><i data-feather="chevron-right"></i>Multi-Tenancy for DC/OS Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/install/">Installing Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/marathon-parameters/">Marathon Configuration Reference</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/creating-services/"><i data-feather="chevron-right"></i>Creating Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/task-handling/"><i data-feather="chevron-right"></i>Task Handling</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/config-universe-service/">Configuring Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/fault-domain-awareness/">Fault Domain Awareness and Capacity Extension</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/service-groups/">Granting Access to Services and Groups</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/marathon-constraints/">Marathon Placement Constraints</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/monitor-services/">Monitoring Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/scale-service/">Scaling a Service</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/service-endpoints/">Service Endpoints</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/service-ports/">Service Ports</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/update-user-service/">Updating a User-Created Service</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/private-docker-registry/">Using a Private Docker Registry</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/deployments/">Deployments</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/expose-service/">Exposing a Service</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/uninstall/">Uninstalling Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/package-api/">Package Management API</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/marathon-on-marathon/"><i data-feather="chevron-right"></i>Using Custom Marathon</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/marathon-api/">Marathon API</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/containerizers/"><i data-feather="chevron-right"></i>Using Containerizers</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/pods/"><i data-feather="chevron-right"></i>Pods</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/multi-tenancy-primitives/">Multi-Tenancy Primitives</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/gpu/">Using GPUs</a></li><li class="active active-on"><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/faq/">Frequently Asked Questions</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2022 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Frequently Asked Questions</h1></div><h4 class="content__header-description">Frequently asked questions about deploying Marathon services</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/2.0/deploying-services/faq/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><p>We have collected some questions we often encounter concerning the usage of DC/OS™. Do you have a new question you would like answered, or do you have the answer to a question? Use the <code>Contribute</code> button at the top of this page to suggest it, or check out how you can <a href="https://dcos.io/contribute/">contribute</a> the answer to it.</p>
<h2 id="why-is-my-marathon-app-stuck-in-waiting"><a class="content__anchor" href="#why-is-my-marathon-app-stuck-in-waiting" aria-hidden="true"><i data-feather="bookmark"></i></a>Why is my Marathon app stuck in Waiting?</h2>
<p>This most commonly occurs when an application being launched has higher system requirements than any of the available offers coming to Marathon™ from Apache® Mesos®. The deployment will eventually fail; check system requirements and increase the resources to the application if you want the deployment to succeed.</p>
<h2 id="why-is-my-marathon-app-launching-on-a-private-agent-instead-of-a-public-agent"><a class="content__anchor" href="#why-is-my-marathon-app-launching-on-a-private-agent-instead-of-a-public-agent" aria-hidden="true"><i data-feather="bookmark"></i></a>Why is my Marathon app launching on a private agent instead of a public agent?</h2>
<p>By default apps are launched on private nodes. For more information, see the <a href="/dcosdocs/mesosphere/dcos/2.0/administering-clusters/convert-agent-type/">documentation</a>.</p>
<h2 id="what-is-meant-by-service-ports-in-a-marathon-app"><a class="content__anchor" href="#what-is-meant-by-service-ports-in-a-marathon-app" aria-hidden="true"><i data-feather="bookmark"></i></a>What is meant by service ports in a Marathon app?</h2>
<p>A service port is the globally-unique port assigned to the app when using automatic app discovery through a proxy or load balancer system, as described in <a href="/dcosdocs/mesosphere/dcos/2.0/networking/load-balancing-vips/">Service Discovery and Load Balancing</a>.</p>
<h2 id="why-cant-i-start-more-tasks-i-have-free-resources-in-my-cluster"><a class="content__anchor" href="#why-cant-i-start-more-tasks-i-have-free-resources-in-my-cluster" aria-hidden="true"><i data-feather="bookmark"></i></a>Why can’t I start more tasks? I have free resources in my cluster.</h2>
<p>The most common causes for this are requesting ports or resource roles that are not available in the cluster. Tasks cannot launch unless they find agents with the required port available, and they will not accept offers that do not contain their accepted resource roles.</p>
<h2 id="how-can-i-add-automatically-more-agents-to-the-cluster"><a class="content__anchor" href="#how-can-i-add-automatically-more-agents-to-the-cluster" aria-hidden="true"><i data-feather="bookmark"></i></a>How can I add automatically more agents to the cluster?</h2>
<p>DC/OS cannot automatically spin up new nodes in response to load on hardware unless the cloud provider autoscaling groups have been configured with standby hosts and <code>dcos_install.sh</code> placed on the standby node. This is an involved process that requires setting up Autoscaling groups with your Cloud Provider (AWS, GCE, Azure) and placing an install file on each node. An overview is available <a href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/scale-service/">here</a>. Please reach out to Mesosphere Support for more guidance if you need to set this up.</p>
<h2 id="what-is-your-best-practice-for-service-discovery"><a class="content__anchor" href="#what-is-your-best-practice-for-service-discovery" aria-hidden="true"><i data-feather="bookmark"></i></a>What is your best practice for service discovery?</h2>
<p>A comprehensive overview of a few common service discovery implementations is available at <a href="/dcosdocs/mesosphere/dcos/2.0/networking/">Service Discovery</a> in Marathon.</p>
<h2 id="is-it-possible-to-span-my-cluster-over-different-cloud-providers"><a class="content__anchor" href="#is-it-possible-to-span-my-cluster-over-different-cloud-providers" aria-hidden="true"><i data-feather="bookmark"></i></a>Is it possible to span my cluster over different cloud providers?</h2>
<p>This is not currently supported.</p>
<h2 id="how-can-i-upload-files-to-spark-driverexecutor"><a class="content__anchor" href="#how-can-i-upload-files-to-spark-driverexecutor" aria-hidden="true"><i data-feather="bookmark"></i></a>How can I upload files to Spark™ driver/executor?</h2>
<p>Here is the example of a command you should launch to make it work:</p>
<pre><code>```bash
dcos spark run --submit-args='--conf spark.mesos.uris=https://path/to/pi.conf --class JavaSparkPiConf https://path/to/sparkPi_without_config_file.jar /mnt/mesos/sandbox/pi.conf'
```
</code></pre>
<p>More info:</p>
<ul>
<li>
<p><code>--conf spark.mesos.uris=...</code> A comma-separated list of URIs to be downloaded to the sandbox when driver or executor is launched by Mesos. This applies to both coarse-grained and fine-grained mode.</p>
</li>
<li>
<p><code>/mnt/mesos/sandbox/pi.conf</code> A path to the downloaded file which your main class receives as a 0th parameter (see the code snippet below). /mnt/mesos/sandbox/ is a standard path inside a container which is mapped to a corespondent mesos-task sandbox.</p>
</li>
</ul>
<h2 id="how-does-the-installer-work"><a class="content__anchor" href="#how-does-the-installer-work" aria-hidden="true"><i data-feather="bookmark"></i></a>How does the installer work?</h2>
<p>DC/OS is installed in your environment using a dynamically-generated setup file. This file is generated using specific parameters that are set during configuration. This installation file contains a Bash install script and a Docker container that is loaded with everything you need to deploy a customized DC/OS build.</p>
<p>For more information, see the installation <a href="/dcosdocs/mesosphere/dcos/2.0/installing/">documentation</a>.</p>
<h2 id="what-versions-of-kernel-local-os-docker-engine-union-mount-are-recommended"><a class="content__anchor" href="#what-versions-of-kernel-local-os-docker-engine-union-mount-are-recommended" aria-hidden="true"><i data-feather="bookmark"></i></a>What versions of kernel, local OS, Docker Engine, Union Mount are recommended?</h2>
<p>Please see <a href="../../../version-policy">Version Policy</a> for details.</p>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h2"><a href="#why-is-my-marathon-app-stuck-in-waiting">Why is my Marathon app stuck in Waiting?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#why-is-my-marathon-app-launching-on-a-private-agent-instead-of-a-public-agent">Why is my Marathon app launching on a private agent instead of a public agent?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#what-is-meant-by-service-ports-in-a-marathon-app">What is meant by service ports in a Marathon app?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#why-cant-i-start-more-tasks-i-have-free-resources-in-my-cluster">Why can’t I start more tasks? I have free resources in my cluster.</a></li><li class="content__sections-item content__sections-item--h2"><a href="#how-can-i-add-automatically-more-agents-to-the-cluster">How can I add automatically more agents to the cluster?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#what-is-your-best-practice-for-service-discovery">What is your best practice for service discovery?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#is-it-possible-to-span-my-cluster-over-different-cloud-providers">Is it possible to span my cluster over different cloud providers?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#how-can-i-upload-files-to-spark-driverexecutor">How can I upload files to Spark™ driver/executor?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#how-does-the-installer-work">How does the installer work?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#what-versions-of-kernel-local-os-docker-engine-union-mount-are-recommended">What versions of kernel, local OS, Docker Engine, Union Mount are recommended?</a></li></ul></div></aside></main></div></div><script src="/dcosdocs/assets/js/jquery-3.2.1.js"></script><script src="/dcosdocs/assets/js/clipboard.js"></script><script src="/dcosdocs/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>