<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Edge-LB 1.2 - D2iQ Docs</title><meta name="description" content="Edge-LB proxies and load balances traffic to all services that run on DC/OS."><link rel="apple-touch-icon" sizes="180x180" href="/dcosdocs/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/dcosdocs/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/dcosdocs/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/dcosdocs/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/dcosdocs/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>Edge Lb Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="spherer"><div class="chooser-current"><a class="chooser-title">Mesosphere</a><svg class="chooser-svg" id="spherer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="spherer-list"><li class="chooser-list-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li></ul></div><div class="chooser" id="ks"><div class="chooser-current"><a class="chooser-title">DKP</a><svg class="chooser-svg" id="kspherer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="kspherer-list"><li class="chooser-list-item"><a href="/dkp/konvoy">Konvoy</a></li><li class="chooser-list-item"><a href="/dkp/konvoy/partner-solutions">Partner Solutions</a></li><li class="chooser-list-item"><a href="/dkp/kommander">Kommander</a></li><li class="chooser-list-item"><a href="/dkp/dispatch">Dispatch</a></li><li class="chooser-list-item"><a href="/dkp/kaptain">Kaptain</a></li><li class="chooser-list-item"><a href="/dkp/conductor">Conductor</a></li></ul></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/services/edge-lb">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS Services"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/konvoy/partner-solutions">Partner Solutions</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__item"><a href="/dkp/conductor">Conductor</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.7">Edge-LB 1.7</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.6">Edge-LB 1.6</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.5">Edge-LB 1.5</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.4">Edge-LB 1.4</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.3">Edge-LB 1.3</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2">Edge-LB 1.2</a></li></ul><div class="toggle"><p><span class="title">Edge Lb</span><span class="version"> 1.2</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/release-notes/">Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/installing/">Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/uninstalling/">Uninstalling</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/upgrading/">Upgrading Edge-LB</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/input-formats/">Input Formats</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/permissions/">Permissions</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/usage/">Usage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/cli-reference/"><i data-feather="chevron-right"></i>CLI Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/api-reference/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/pool-configuration/"><i data-feather="chevron-right"></i>Edge-LB Pool Config Reference</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2021 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Edge-LB 1.2</h1><p class="badge badge--content-header badge--enterprise">ENTERPRISE</p></div><h4 class="content__header-description">Edge-LB proxies and load balances traffic to all services that run on DC/OS.</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li><li class="actions__item"><a class="actions__link" href="https://jira.d2iq.com/secure/CreateIssueDetails!init.jspa?pid=14105&amp;issuetype=1&amp;summary=Feedback+for+Edge-LB+1.2&amp;description=Source:%20https://docs.d2iq.com/dcosdocs/mesosphere/dcos/services/edge-lb/1.2&amp;labels=documentation&amp;labels=needs_triage&amp;components=19804&amp;priority=3&amp;customfield_12300=44" target="_blank"><i class="actions__icon" data-feather="message-square"></i><span class="actions__text">Feedback</span></a></li></ul></div></div><article class="content__article"><p>Edge-LB proxies and load balances traffic to all services that run on DC/OS. Edge-LB provides North-South (external to internal) load balancing, while the <a href="/dcosdocs/mesosphere/dcos/latest/networking/load-balancing-vips/">Minuteman component</a> provides East-West (internal to internal) load balancing.</p>
<p>Edge-LB leverages HAProxy, which provides the core load balancing and proxying features, such as load balancing for TCP and HTTP-based applications, SSL support, and health checking. In addition, Edge-LB provides first class support for zero downtime service deployment strategies, such as blue/green deployment. Edge-LB subscribes to Mesos and updates HAProxy configuration in real time.</p>
<h1 id="architecture"><a class="content__anchor" href="#architecture" aria-hidden="true"><i data-feather="bookmark"></i></a>Architecture</h1>
<p>Edge-LB has a 3-part architecture:</p>
<ul>
<li><a href="#edge-lb-api-server">API server</a></li>
<li><a href="#edge-lb-pool">pool</a></li>
<li><a href="#edge-lb-load-balancer">load balancer</a></li>
</ul>
<p>These components run on top of DC/OS.</p>
<p>Edge-LB runs as a DC/OS service launched by <a href="/dcosdocs/mesosphere/dcos/latest/deploying-services/">Marathon</a>. The API server component of Edge-LB launches the load balancer pool(s). From the perspective of Marathon, the pool is another DC/OS service.</p>
<p>The diagram below shows how configuration and outside requests flow through Edge-LB to the application backend tasks.</p>
<p>Configuration is sent to the API Server, which controls pool management.</p>
<p>Outside traffic moves through a hardware load balancer, then to the load balancer pool. One of the Edge-LB load balancers in the pool accepts the traffic and routes it to the appropriate service within the DC/OS cluster.</p>
<p><img src="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/img/edge-lb-flow.png" alt="Edge-LB Architecture"></p>
<p>Figure 1. Edge-LB architecture</p>
<h2 id="edge-lb-api-server"><a class="content__anchor" href="#edge-lb-api-server" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="edge-lb-api-server"></a>Edge-LB API Server</h2>
<p>The Edge-LB API Server is the service that responds to CLI commands and manages pools.</p>
<h2 id="edge-lb-pool"><a class="content__anchor" href="#edge-lb-pool" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="edge-lb-pool"></a>Edge-LB Pool</h2>
<p>The Edge-LB Pool is a group of identically configured load balancers. Traffic to the pool is balanced among the load balancers within the pool. The load balancer pool manages properties such as the number of load balancer instances and their placement. The pool is the smallest unit of load balancer configuration within Edge-LB. The load balancers within the same pool are identical. You can configure Edge-LB to have multiple load balancer pools with different configurations.</p>
<h2 id="edge-lb-load-balancer"><a class="content__anchor" href="#edge-lb-load-balancer" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="edge-lb-load-balancer"></a>Edge-LB Load Balancer</h2>
<p>These are the individual instances of the load balancer software (such as HAProxy). These accept traffic and route it to the appropriate services within the DC/OS cluster.</p>
<h1 id="multiple-edge-lb-instances"><a class="content__anchor" href="#multiple-edge-lb-instances" aria-hidden="true"><i data-feather="bookmark"></i></a>Multiple Edge-LB Instances</h1>
<p>Multiple Edge-LB pools can be configured across multiple DC/OS public nodes to create a highly-available load balancing environment and to support increased throughput. There are two primary external architectures that support this:</p>
<ul>
<li>External Load Balancer: Configures multiple Edge-LB pools such that the Edge-LB load balancers that are on DC/OS public nodes are behind an external load balancer. Direct end users or clients to the external load balancer device, which will then load balance the traffic between the multiple Edge-LB pools. The external load balancer can be a cloud-based load balancer, such as an AWS Elastic Load Balancer (ELB), an Azure Load Balancer, or a physical load balancer such as an F5 or Cisco ACE device.</li>
</ul>
<ul>
<li>Round Robin DNS: Configures DNS such that a single DNS entry responds with IP addresses corresponding to a different Edge-LB pool. The DNS will round robin between the VIPs for each Edge-LB pool.</li>
</ul>
<div class="grid"><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/release-notes"><div class="grid__header__wrapper"><h3 class="grid__header">Release Notes</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Discover the new features, updates, and known limitations in this release of the Edge-LB Service<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/installing"><div class="grid__header__wrapper"><h3 class="grid__header">Installing</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Configuring a service account and installing Edge-LB<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/uninstalling"><div class="grid__header__wrapper"><h3 class="grid__header">Uninstalling</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Uninstalling the Edge-LB package<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/upgrading"><div class="grid__header__wrapper"><h3 class="grid__header">Upgrading Edge-LB</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Upgrading an Edge-LB installation<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/input-formats"><div class="grid__header__wrapper"><h3 class="grid__header">Input Formats</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Pool configuration file format information<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/permissions"><div class="grid__header__wrapper"><h3 class="grid__header">Permissions</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Service account and user permissions required to use the Edge-LB package<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/tutorials"><div class="grid__header__wrapper"><h3 class="grid__header">Tutorials</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Learning to use Edge-LB<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/usage"><div class="grid__header__wrapper"><h3 class="grid__header">Usage</h3><div class="grid__label__wrapper"><h6 class="grid__label grid__label--enterprise">ENTERPRISE</h6></div></div><div class="grid__desc__wrapper"><p class="grid__desc">Common commands for Edge-LB usage<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/cli-reference"><div class="grid__header__wrapper"><h3 class="grid__header">CLI Reference</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Reference for all CLI commands in the Edge-LB package<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/api-reference"><div class="grid__header__wrapper"><h3 class="grid__header">API Reference</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Reference for all API endpoints exposed by the Edge-LB package<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a><a class="grid__item" href="/dcosdocs/mesosphere/dcos/services/edge-lb/1.2/pool-configuration"><div class="grid__header__wrapper"><h3 class="grid__header">Edge-LB Pool Config Reference</h3></div><div class="grid__desc__wrapper"><p class="grid__desc">Reference for all possible Edge-LB pool configuration values<span class="grid__desc__ellipsis">&#8230;Read More</span></p></div><div class="grid__link"><i data-feather="arrow-right"></i></div></a></div></article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h1"><a href="#architecture">Architecture</a></li><li class="content__sections-item content__sections-item--h2"><a href="#edge-lb-api-server">Edge-LB API Server</a></li><li class="content__sections-item content__sections-item--h2"><a href="#edge-lb-pool">Edge-LB Pool</a></li><li class="content__sections-item content__sections-item--h2"><a href="#edge-lb-load-balancer">Edge-LB Load Balancer</a></li><li class="content__sections-item content__sections-item--h1"><a href="#multiple-edge-lb-instances">Multiple Edge-LB Instances</a></li></ul></div></aside></main></div></div><script src="/dcosdocs/assets/js/jquery-3.2.1.js"></script><script src="/dcosdocs/assets/js/clipboard.js"></script><script src="/dcosdocs/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>