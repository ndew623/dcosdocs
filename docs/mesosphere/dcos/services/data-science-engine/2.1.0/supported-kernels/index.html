<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Supported Kernels - D2iQ Docs</title><meta name="description" content="Use DC/OS Data Science Engine with Kernels"><link rel="apple-touch-icon" sizes="180x180" href="/dcosdocs/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/dcosdocs/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/dcosdocs/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/dcosdocs/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/dcosdocs/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>Data Science Engine Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="spherer"><div class="chooser-current"><a class="chooser-title">Mesosphere</a><svg class="chooser-svg" id="spherer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="spherer-list"><li class="chooser-list-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li></ul></div><div class="chooser" id="ks"><div class="chooser-current"><a class="chooser-title">DKP</a><svg class="chooser-svg" id="kspherer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="kspherer-list"><li class="chooser-list-item"><a href="/dkp/konvoy">Konvoy</a></li><li class="chooser-list-item"><a href="/dkp/konvoy/partner-solutions">Partner Solutions</a></li><li class="chooser-list-item"><a href="/dkp/kommander">Kommander</a></li><li class="chooser-list-item"><a href="/dkp/dispatch">Dispatch</a></li><li class="chooser-list-item"><a href="/dkp/kaptain">Kaptain</a></li><li class="chooser-list-item"><a href="/dkp/conductor">Conductor</a></li></ul></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/services">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS Services"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/konvoy/partner-solutions">Partner Solutions</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__item"><a href="/dkp/conductor">Conductor</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/supported-kernels">DC/OS Data Science Engine 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.0.1/supported-kernels">DC/OS Data Science Engine 2.0.1</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.0.0/supported-kernels">DC/OS Data Science Engine 2.0.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/data-science-engine/1.0.2/supported-kernels">DC/OS Data Science Engine 1.0.2</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/data-science-engine/1.0.1/supported-kernels">DC/OS Data Science Engine 1.0.1</a></li><li><a href="/dcosdocs/mesosphere/dcos/services/data-science-engine/1.0.0/supported-kernels">DC/OS Data Science Engine 1.0.0</a></li></ul><div class="toggle"><p><span class="title">Data Science Engine</span><span class="version"> 2.1.0</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/release-notes/">Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/overview/">Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/quick-start/">Quick Start Guide</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/customizations/"><i data-feather="chevron-right"></i>Customizations</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/integrations/"><i data-feather="chevron-right"></i>Integrations</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/dynamic-allocation/">Dynamic Allocation</a></li><li class="active active-on"><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/supported-kernels/">Supported Kernels</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/upgrade/">Upgrade</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/uninstall/">Uninstall</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2021 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Supported Kernels</h1><p class="badge badge--content-header badge--enterprise">ENTERPRISE</p></div><h4 class="content__header-description">Use DC/OS Data Science Engine with Kernels</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/supported-kernels/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li><li class="actions__item"><a class="actions__link" href="https://jira.d2iq.com/secure/CreateIssueDetails!init.jspa?pid=14105&amp;issuetype=1&amp;summary=Feedback+for+Supported+Kernels&amp;description=Source:%20https://docs.d2iq.com/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/supported-kernels&amp;labels=documentation&amp;labels=needs_triage&amp;components=19804&amp;priority=3&amp;customfield_12300=44" target="_blank"><i class="actions__icon" data-feather="message-square"></i><span class="actions__text">Feedback</span></a></li></ul></div></div><article class="content__article"><p>This section contains examples for using DC/OS Data Science Engine.</p>
<h1 id="basic"><a class="content__anchor" href="#basic" aria-hidden="true"><i data-feather="bookmark"></i></a>Basic</h1>
<p>Perform a default installation by following the instructions in the <a href="/dcosdocs/mesosphere/dcos/services/data-science-engine/2.1.0/quick-start/">Quick Start Guide</a> section.</p>
<p>To run any job, first you have to open the lab and choose the notebook you want to run.
You can select from notebooks available in the lab, for example, Scala, Python, and R.
A Notebook consists of cells; each cell can be of type <code>markdown</code> or <code>code</code>.
In the <code>markdown</code> cell, you can write text or HTML. In the <code>code</code> cell, you can type your code as shown in the example below.</p>
<h2 id="python-kernel"><a class="content__anchor" href="#python-kernel" aria-hidden="true"><i data-feather="bookmark"></i></a>Python Kernel</h2>
<p>Open a <code>Python 3</code> Notebook and put the following sections in different code cells.</p>
<pre><code class="language-python">def initMatrix(nrow, ncol):
    mat = []
    counter = 1
    for i in range(0, nrow):
        row = []
        for j in range(0, ncol):
            row.append(counter)
            counter += 1
        mat.append(row)
    return mat
</code></pre>
<pre><code class="language-python">def sumMatrix(mat):
    sum = 0
    for row in mat:
        for x in row:
            sum += x
    return sum
</code></pre>
<pre><code class="language-python">mat = initMatrix(10, 10)
sum = sumMatrix(mat)
print(sum)
</code></pre>
<h2 id="scala-kernel"><a class="content__anchor" href="#scala-kernel" aria-hidden="true"><i data-feather="bookmark"></i></a>Scala Kernel</h2>
<p>Open a <code>Apache Toree - Scala</code> Notebook and put the following sections in different code cells.</p>
<pre><code class="language-scala">def initMatrix(nrow: Int, ncol: Int): Array[Array[Int]] = {
    val mat = Array.ofDim[Int](nrow, ncol)
    var counter = 1
    for(i &lt;- 0 to 9) {
        for(j &lt;- 0 to 9) {
            mat(i)(j) = counter
            counter += 1
        }
    }
    mat
}
</code></pre>
<pre><code class="language-scala">def sumMatrix(mat: Array[Array[Int]]): Int = {
    var sum = 0
    for (i &lt;- 0 to 9) {
        for (j &lt;- 0 to 9) {
            sum = sum + mat(i)(j)
        }
    }
    sum
}
</code></pre>
<pre><code class="language-scala">val mat = initMatrix(10, 10)
val sum = sumMatrix(mat)
</code></pre>
<h2 id="r-kernel"><a class="content__anchor" href="#r-kernel" aria-hidden="true"><i data-feather="bookmark"></i></a>R Kernel</h2>
<p>Open an <code>R</code> Notebook and put the following in a code cell.</p>
<pre><code class="language-r">mat &lt;- matrix(data = seq(1, 100, by=1), nrow = 10, ncol = 10)
sum = 0
# calculating sum of all numbers
for (r in 1:nrow(mat)) {
    for(c in 1:ncol(mat)) {
        sum = sum + mat[r,c]
    }
}
print(sum)
</code></pre>
<h1 id="advanced"><a class="content__anchor" href="#advanced" aria-hidden="true"><i data-feather="bookmark"></i></a>Advanced</h1>
<h2 id="launch-a-spark-job"><a class="content__anchor" href="#launch-a-spark-job" aria-hidden="true"><i data-feather="bookmark"></i></a>Launch a Spark job</h2>
<h3 id="use-the-terminal"><a class="content__anchor" href="#use-the-terminal" aria-hidden="true"><i data-feather="bookmark"></i></a>Use the Terminal</h3>
<p>Open a <code>Terminal</code> from the Notebook UI and run an example <code>spark-submit</code> job:</p>
<pre><code class="language-bash">spark-submit --class org.apache.spark.examples.SparkPi http://downloads.mesosphere.com/spark/dcosdocs/assets/spark-examples_2.11-2.4.0.jar 100
</code></pre>
<h3 id="use-python-notebook"><a class="content__anchor" href="#use-python-notebook" aria-hidden="true"><i data-feather="bookmark"></i></a>Use Python Notebook</h3>
<p>Open a <code>Python 3</code> Notebook and put the following in a code cell:</p>
<pre><code class="language-python">from __future__ import print_function
import sys
from random import random
from operator import add
from pyspark.sql import SparkSession
</code></pre>
<pre><code class="language-python">spark = SparkSession\
        .builder\
        .appName(&quot;PythonPi&quot;)\
        .getOrCreate()
</code></pre>
<pre><code class="language-python">partitions = 2
n = 100000 * partitions
def f(_):
    x = random() * 2 - 1
    y = random() * 2 - 1
    return 1 if x ** 2 + y ** 2 &lt;= 1 else 0
count = spark.sparkContext.parallelize(range(1, n + 1), partitions).map(f).reduce(add)
print(&quot;Pi is roughly %f&quot; % (4.0 * count / n))
</code></pre>
<pre><code class="language-python"># Shutdown Spark workers
spark.stop()
</code></pre>
<h3 id="use-scala-notebook"><a class="content__anchor" href="#use-scala-notebook" aria-hidden="true"><i data-feather="bookmark"></i></a>Use Scala Notebook</h3>
<p>Open a <code>Apache Toree - Scala</code> Notebook and put the following in a code cell:</p>
<pre><code class="language-scala">import org.apache.spark.mllib.feature.{HashingTF, IDF}
import org.apache.spark.mllib.linalg.Vector
import org.apache.spark.rdd.RDD
</code></pre>
<pre><code class="language-scala">// Load documents (one per line)
val documents: RDD[Seq[String]] =
  sc.textFile(&quot;file:///opt/spark/data/mllib/kmeans_data.txt&quot;).map(_.split(&quot; &quot;).toSeq)
// Compute the term frequency vector
val hashingTF = new HashingTF()
val tf: RDD[Vector] = hashingTF.transform(documents)
tf.cache()
// First to compute the IDF vector and second to scale the term frequencies by IDF
val idf = new IDF().fit(tf)
val tfidf: RDD[Vector] = idf.transform(tf)
// spark.mllib IDF implementation provides an option for ignoring terms which occur in less than
// a minimum number of documents. In such cases, the IDF for these terms is set to 0.
// This feature can be used by passing the minDocFreq value to the IDF constructor.
val idfIgnore = new IDF(minDocFreq = 2).fit(tf)
val tfidfIgnore: RDD[Vector] = idfIgnore.transform(tf)
</code></pre>
<pre><code class="language-scala">println(tfidf.collect()(0))
println(tfidfIgnore.collect()(0))
</code></pre>
<pre><code class="language-scala">// Shutdown Spark workers
spark.stop() 
</code></pre>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h1"><a href="#basic">Basic</a></li><li class="content__sections-item content__sections-item--h2"><a href="#python-kernel">Python Kernel</a></li><li class="content__sections-item content__sections-item--h2"><a href="#scala-kernel">Scala Kernel</a></li><li class="content__sections-item content__sections-item--h2"><a href="#r-kernel">R Kernel</a></li><li class="content__sections-item content__sections-item--h1"><a href="#advanced">Advanced</a></li><li class="content__sections-item content__sections-item--h2"><a href="#launch-a-spark-job">Launch a Spark job</a></li></ul></div></aside></main></div></div><script src="/dcosdocs/assets/js/jquery-3.2.1.js"></script><script src="/dcosdocs/assets/js/clipboard.js"></script><script src="/dcosdocs/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>