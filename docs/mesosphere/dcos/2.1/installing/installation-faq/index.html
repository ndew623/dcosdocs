<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Frequently Asked Questions - D2iQ Docs</title><meta name="description" content="Frequently asked questions about installing DC/OS"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/2.1/installing/installation-faq">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 2.1"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/installing/installation-faq">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/installing/installation-faq">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/installing/installation-faq">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/installing/installation-faq">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 2.1</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/installing/"><i data-feather="chevron-right"></i>Installing</a></li><ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/installing/evaluation/"><i data-feather="chevron-right"></i>Cloud Installation</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/installing/production/"><i data-feather="chevron-right"></i>On-Prem Installation</a></li><li class="active active-on"><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/installing/installation-faq/">Frequently Asked Questions</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/installing/troubleshooting/">Troubleshooting</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/multi-tenancy/"><i data-feather="chevron-right"></i>Multi-Tenancy for DC/OS Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2022 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Frequently Asked Questions</h1></div><h4 class="content__header-description">Frequently asked questions about installing DC/OS</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/2.1/installing/installation-faq/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><h2 id="q-can-i-install-dcos-on-an-already-running-mesos-cluster"><a class="content__anchor" href="#q-can-i-install-dcos-on-an-already-running-mesos-cluster" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. Can I install DC/OS on an already running Mesos cluster?</h2>
<p>We recommend starting with a fresh cluster to ensure all defaults are set to expected values. This prevents unexpected conditions related to mismatched versions and configurations.</p>
<h2 id="q-what-are-the-os-requirements-of-dcos"><a class="content__anchor" href="#q-what-are-the-os-requirements-of-dcos" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. What are the OS requirements of DC/OS?</h2>
<p>See the <a href="/dcosdocs/mesosphere/dcos/2.1/installing/production/system-requirements/">system requirements</a> documentation.</p>
<h2 id="q-does-dcos-install-zookeeper"><a class="content__anchor" href="#q-does-dcos-install-zookeeper" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. Does DC/OS install ZooKeeper?</h2>
<p>DC/OS runs its own ZooKeeper supervised by Exhibitor and <code>systemd</code>.</p>
<h2 id="q-is-it-necessary-to-maintain-a-bootstrap-node-after-the-cluster-is-created"><a class="content__anchor" href="#q-is-it-necessary-to-maintain-a-bootstrap-node-after-the-cluster-is-created" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. Is it necessary to maintain a bootstrap node after the cluster is created?</h2>
<p>If you specify an Exhibitor storage backend type other than <code>exhibitor_storage_backend: static</code> in your cluster configuration <a href="/dcosdocs/mesosphere/dcos/2.1/installing/production/advanced-configuration/configuration-reference/">file</a>, you must maintain the external storage for the lifetime of your cluster to facilitate leader elections. If your cluster is mission critical, you should harden your external storage by using S3 or running the bootstrap ZooKeeper as a quorum. Interruptions of service from the external storage can be tolerated, but permanent loss of state can lead to unexpected conditions.</p>
<h2 id="q-how-can-i-add-mesos-attributes-to-nodes-to-use-marathon-constraints"><a class="content__anchor" href="#q-how-can-i-add-mesos-attributes-to-nodes-to-use-marathon-constraints" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. How can I add Mesos attributes to nodes to use Marathon constraints?</h2>
<p>In DC/OS, add the line <code>MESOS_ATTRIBUTES=&lt;key&gt;:&lt;value&gt;</code> to the file <code>/var/lib/dcos/mesos-slave-common</code> (it may need to be created) for each attribute you want to add. See the <a href="http://mesos.apache.org/documentation/latest/attributes-resources/">Mesos documentation</a> for more information.</p>
<h2 id="q-how-do-i-gracefully-shut-down-an-agent"><a class="content__anchor" href="#q-how-do-i-gracefully-shut-down-an-agent" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. How do I gracefully shut down an agent?</h2>
<ul>
<li>
<p>To gracefully kill an agent node’s Mesos process and allow <code>systemd</code> to restart it, run the following command.</p>
<pre><code class="language-bash">sudo systemctl kill -s SIGUSR1 dcos-mesos-slave
</code></pre>
</li>
</ul>
<p>If Auto Scaling groups are in use, the node will be replaced automatically.</p>
<ul>
<li>
<p>For a public agent, run the following command:</p>
<pre><code class="language-bash">sudo systemctl kill -s SIGUSR1 dcos-mesos-slave-public
</code></pre>
</li>
<li>
<p>To gracefully kill the process and prevent systemd from restarting it, add a <code>stop</code> command:</p>
<pre><code class="language-bash">sudo systemctl kill -s SIGUSR1 dcos-mesos-slave &amp;&amp; sudo systemctl stop dcos-mesos-slave
</code></pre>
</li>
<li>
<p>For a public agent, run the following command:</p>
<pre><code class="language-bash">sudo systemctl kill -s SIGUSR1 dcos-mesos-slave-public &amp;&amp; sudo systemctl stop dcos-mesos-slave-public
</code></pre>
</li>
</ul>
<p><a name="iam-backup"></a></p>
<h2 id="q-how-do-i-back-up-the-iam-database"><a class="content__anchor" href="#q-how-do-i-back-up-the-iam-database" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. How do I back up the IAM database?</h2>
<ul>
<li>To back up the IAM database to a file run the following command on one of the master nodes:</li>
</ul>
<pre><code class="language-bash">dcos-shell iam-database-backup &gt; ~/iam-backup.sql
</code></pre>
<h2 id="q-how-do-i-restore-the-iam-database"><a class="content__anchor" href="#q-how-do-i-restore-the-iam-database" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. How do I restore the IAM database?</h2>
<ul>
<li>To restore the IAM database from a file <code>~/iam-backup.sql</code> run the following command on one of the master nodes:</li>
</ul>
<pre><code class="language-bash">dcos-shell iam-database-restore ~/iam-backup.sql
</code></pre>
<p>The IAM database is restored from the backup file and the cluster is operational.</p>
<p><a name="zk-backup"></a></p>
<h2 id="q-how-do-i-back-up-zookeeper"><a class="content__anchor" href="#q-how-do-i-back-up-zookeeper" aria-hidden="true"><i data-feather="bookmark"></i></a>Q. How do I back up ZooKeeper?</h2>
<p>To back up ZooKeeper, follow the guide to back up and restore the <a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/backup-and-restore/backup-restore-cli/#zookeeper">DC/OS ZooKeeper State</a>.</p>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h2"><a href="#q-can-i-install-dcos-on-an-already-running-mesos-cluster">Q. Can I install DC/OS on an already running Mesos cluster?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#q-what-are-the-os-requirements-of-dcos">Q. What are the OS requirements of DC/OS?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#q-does-dcos-install-zookeeper">Q. Does DC/OS install ZooKeeper?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#q-is-it-necessary-to-maintain-a-bootstrap-node-after-the-cluster-is-created">Q. Is it necessary to maintain a bootstrap node after the cluster is created?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#q-how-can-i-add-mesos-attributes-to-nodes-to-use-marathon-constraints">Q. How can I add Mesos attributes to nodes to use Marathon constraints?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#q-how-do-i-gracefully-shut-down-an-agent">Q. How do I gracefully shut down an agent?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#q-how-do-i-back-up-the-iam-database">Q. How do I back up the IAM database?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#q-how-do-i-restore-the-iam-database">Q. How do I restore the IAM database?</a></li><li class="content__sections-item content__sections-item--h2"><a href="#q-how-do-i-back-up-zookeeper">Q. How do I back up ZooKeeper?</a></li></ul></div></aside></main></div></div><script src="/assets/js/jquery-3.2.1.js"></script><script src="/assets/js/clipboard.js"></script><script src="/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>