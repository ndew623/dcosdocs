<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Authenticating DC/OS Services - D2iQ Docs</title><meta name="description" content="Configuring authentication for custom apps and pods"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/mesosphere/dcos/cn/1.13/security/ent/service-auth/custom-service-auth">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 1.13"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/mesosphere/dcos/2.2/security/ent/service-auth/custom-service-auth">Mesosphere DC/OS 2.2.0</a></li><li><a href="/mesosphere/dcos/2.1/security/ent/service-auth/custom-service-auth">Mesosphere DC/OS 2.1.0</a></li><li><a href="/mesosphere/dcos/2.0/security/ent/service-auth/custom-service-auth">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/security/ent/service-auth/custom-service-auth">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 1.13</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/security/"><i data-feather="chevron-right"></i>Security</a></li><ul><li class="active"><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/"><i data-feather="chevron-right"></i>DC/OS Enterprise Security</a></li><ul><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/users-groups/"><i data-feather="chevron-right"></i>Managing users and groups</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/gui-permissions/"><i data-feather="chevron-right"></i>Granting Access to the UI</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/perms-management/">Permissions Management</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/perms-reference/">Permissions Reference</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/ldap/"><i data-feather="chevron-right"></i>LDAP authentication</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/secrets/"><i data-feather="chevron-right"></i>Secrets</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/sso/"><i data-feather="chevron-right"></i>Identity provider-based authentication</a></li><li class="active"><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/service-auth/"><i data-feather="chevron-right"></i>Service Authentication</a></li><ul><li class="active active-on"><a class="d3" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/service-auth/custom-service-auth/">Authenticating DC/OS Services</a></li><li><a class="d3" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/service-auth/auth-tokens/">Managing JSON Web Tokens</a></li></ul><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/restrict-service-access/">Restricting Access to DC/OS Service Groups</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/hardening/">Hardening</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/iam-api/">Identity and Access Management API</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/1.13/security/ent/tls-ssl/"><i data-feather="chevron-right"></i>Securing Communication with TLS</a></li></ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/security/oss/"><i data-feather="chevron-right"></i>DC/OS Open Source Security</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2022 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Authenticating DC/OS Services</h1><p class="badge badge--content-header badge--enterprise">ENTERPRISE</p></div><h4 class="content__header-description">Configuring authentication for custom apps and pods</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/1.13/security/ent/service-auth/custom-service-auth/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><!-- The source repository for this topic is https://github.com/dcos/dcos-docs-site -->
<p>This topic details how to configure authentication for custom apps and pods launched on DC/OS.</p>
<p><strong>Prerequisites:</strong></p>
<ul>
<li><a href="/dcosdocs/mesosphere/dcos/1.13/cli/install/">DC/OS CLI installed</a> and be logged in as a superuser.</li>
<li><a href="/dcosdocs/mesosphere/dcos/1.13/cli/enterprise-cli/#ent-cli-install">DC/OS Enterprise CLI 0.4.14 or later installed</a>.</li>
<li>You must <a href="/dcosdocs/mesosphere/dcos/1.13/security/ent/tls-ssl/get-cert/">get the root cert</a> before issuing the <code>curl</code> commands in this section.</li>
</ul>
<h1 id="create-a-key-pair"><a class="content__anchor" href="#create-a-key-pair" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="create-a-keypair"></a>Create a Key Pair</h1>
<p>Create a 2048-bit RSA public-private key pair using the DC/OS Enterprise CLI. Save each value into a separate file within the current directory.</p>
<pre><code class="language-bash">dcos security org service-accounts keypair &lt;private-key&gt;.pem &lt;public-key&gt;.pem
</code></pre>
<p>Use the <a href="/dcosdocs/mesosphere/dcos/1.13/security/ent/secrets/">DC/OS Secret Store</a> to secure the key pair.</p>
<h1 id="create-a-service-account"><a class="content__anchor" href="#create-a-service-account" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="create-a-service-account"></a>Create a service account</h1>
<p>You can use either the DC/OS Enterprise CLI or the DC/OS web interface to create a service account.</p>
<h2 id="using-the-dcos-enterprise-cli"><a class="content__anchor" href="#using-the-dcos-enterprise-cli" aria-hidden="true"><i data-feather="bookmark"></i></a>Using the DC/OS Enterprise CLI</h2>
<p>From a terminal prompt, create a new service account (<code>&lt;service-account-id&gt;</code>) containing the public key (<code>&lt;your-public-key&gt;.pem</code>).</p>
<pre><code class="language-bash">dcos security org service-accounts create -p &lt;your-public-key&gt;.pem -d &quot;&lt;description&gt;&quot; &lt;service-account-id&gt;
</code></pre>
<p>Verify your new service account using the following command.</p>
<pre><code class="language-bash">dcos security org service-accounts show &lt;service-account-id&gt;
</code></pre>
<h2 id="using-the-web-interface"><a class="content__anchor" href="#using-the-web-interface" aria-hidden="true"><i data-feather="bookmark"></i></a>Using the web interface</h2>
<ol>
<li>
<p>In the DC/OS web interface, navigate to the <strong>Organization</strong> -&gt; <strong>Service Accounts</strong> tab.</p>
</li>
<li>
<p>Click the <strong>+</strong> icon in the top right.</p>
<p><img src="/dcosdocs/mesosphere/dcos/1.13/img/GUI-Organization-Service_Accounts_View-1_12.png" alt="Click the service account create button"></p>
<p>Figure 1. Click the service account create button</p>
</li>
<li>
<p>Enter a description and type the Service Account ID in the <strong>ID</strong> field.</p>
</li>
<li>
<p>Paste the public key associated with the account into the <strong>PUBLIC KEY</strong> field.</p>
<p><img src="/dcosdocs/mesosphere/dcos/1.13/img/create-service-account.png" alt="Create service account UI"></p>
<p>Figure 2. Create new service account</p>
</li>
</ol>
<h1 id="create-a-secret"><a class="content__anchor" href="#create-a-secret" aria-hidden="true"><i data-feather="bookmark"></i></a>Create a secret</h1>
<p>Create a secret (<code>&lt;secret-name&gt;</code>) with your service account (<code>service-account-id&gt;</code>) and private key specified (<code>&lt;private-key&gt;.pem</code>).</p>
<h2 id="permissive"><a class="content__anchor" href="#permissive" aria-hidden="true"><i data-feather="bookmark"></i></a>Permissive</h2>
<pre><code class="language-bash">dcos security secrets create-sa-secret &lt;private-key&gt;.pem &lt;service-account-id&gt; &lt;secret-name&gt;
</code></pre>
<h2 id="strict"><a class="content__anchor" href="#strict" aria-hidden="true"><i data-feather="bookmark"></i></a>Strict</h2>
<p>In strict mode, the service account name (<code>&lt;service-account-id&gt;</code>) must match the name specified in the framework <code>principal</code>.</p>
<pre><code class="language-bash">dcos security secrets create-sa-secret --strict &lt;private-key&gt;.pem &lt;service-account-id&gt; &lt;secret-name&gt;
</code></pre>
<p>List the secrets with this command:</p>
<pre><code class="language-bash">dcos security secrets list /
</code></pre>
<h1 id="create-and-assign-permissions"><a class="content__anchor" href="#create-and-assign-permissions" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="give-perms"></a>Create and assign permissions</h1>
<h2 id="determine-the-required-permissions"><a class="content__anchor" href="#determine-the-required-permissions" aria-hidden="true"><i data-feather="bookmark"></i></a>Determine the required permissions</h2>
<p>Determine what access your service account requires by using this procedure. This will allow you to rule out any functional issues that might be caused by incorrect permissions.</p>
<ol>
<li>
<p><a href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/sshcluster/">SSH to your node</a>.</p>
<pre><code class="language-bash">dcos node ssh --master-proxy --mesos-id=&lt;mesos-id&gt;
</code></pre>
</li>
<li>
<p>Run this <code>grep</code> command to view the <code>deny</code> logs for your service account (<code>&lt;service-account-id&gt;</code>).</p>
<pre><code class="language-bash">journalctl -u &quot;dcos-*&quot; |grep &quot;audit&quot; |grep &quot;&lt;service-account-id&gt;&quot; |grep &quot;deny&quot;
</code></pre>
<p>This command will return a list of the audit logs that are generated when your service was denied access due to insufficient permissions or a bad token. The rejection messages should include the permission that was missing. You might need to repeat this process several times to determine the full list of required permissions.</p>
</li>
</ol>
<h3 id="troubleshooting"><a class="content__anchor" href="#troubleshooting" aria-hidden="true"><i data-feather="bookmark"></i></a>Troubleshooting</h3>
<p>You can grant your service superuser permission to rule out any functional issues. All valid services should be able to run as superuser.</p>
<pre><code class="language-bash">curl -x put --cacert dcos-ca.crt \
-h &quot;authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:superuser/users/&lt;service-account-id&gt;/full
</code></pre>
<p>For more information, see the <a href="/dcosdocs/mesosphere/dcos/1.13/security/ent/perms-reference/">permissions reference</a>.</p>
<h2 id="assign-the-permissions"><a class="content__anchor" href="#assign-the-permissions" aria-hidden="true"><i data-feather="bookmark"></i></a>Assign the permissions</h2>
<p>Using the <a href="/dcosdocs/mesosphere/dcos/1.13/security/ent/perms-reference/">permissions reference</a> and the log output, assign permissions to your service. All CLI commands can also be executed via the <a href="/dcosdocs/mesosphere/dcos/1.13/security/ent/iam-api/">IAM API</a>.</p>
<h3 id="using-the-cli"><a class="content__anchor" href="#using-the-cli" aria-hidden="true"><i data-feather="bookmark"></i></a>Using the CLI</h3>
<p>You can assign permissions using the CLI. For example, to authorize the <a href="/mesosphere/dcos/services/cassandra/cass-auth/">Cassandra service</a> to be uninstalled on DC/OS:</p>
<p>Grant the permissions (<code>dcos:mesos:master:framework:role:cassandra-role</code>) and the allowed actions (<code>create</code>).</p>
<pre><code class="language-bash">dcos security org users grant &lt;service-account-id&gt; dcos:mesos:master:framework:role:cassandra-role create --description &quot;Controls the ability of cassandra-role to register as a framework with the Mesos master&quot;
</code></pre>
<h3 id="using-the-web-interface-2"><a class="content__anchor" href="#using-the-web-interface-2" aria-hidden="true"><i data-feather="bookmark"></i></a>Using the web interface</h3>
<ol>
<li>
<p>Log into the DC/OS web interface as a user with the superuser permission.</p>
</li>
<li>
<p>Select <strong>Organization &gt; Service Accounts</strong>.</p>
</li>
<li>
<p>Select the name of the service account to grant the permission to.</p>
<p><img src="/dcosdocs/mesosphere/dcos/1.13/img/GUI-Organization-Service_Accounts_No_Tooltip-1_12.png" alt="Select service acccount"></p>
<p>Figure 3. Select service account</p>
</li>
<li>
<p>From the <strong>Permissions</strong> tab, click <strong>ADD PERMISSION</strong>.</p>
</li>
<li>
<p>Click <strong>INSERT PERMISSION STRING</strong> to toggle the dialog.</p>
</li>
<li>
<p>Copy and paste the permission in the <strong>Permissions Strings</strong> field.</p>
<p><img src="/dcosdocs/mesosphere/dcos/1.13/img/service-account-permission-string.png" alt="Service account permission string"></p>
<p>Figure 4. Service account permissions string</p>
</li>
</ol>
<h1 id="request-an-authentication-token"><a class="content__anchor" href="#request-an-authentication-token" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="req-auth-tok"></a>Request an authentication token</h1>
<p>Generate a <a href="/dcosdocs/mesosphere/dcos/1.13/security/ent/service-auth/">service login token</a>, where the service account (<code>&lt;service-account-id&gt;</code>) and private key (<code>&lt;private-key&gt;.pem</code>) are specified.</p>
<pre><code class="language-bash">dcos auth login --username=&lt;service-account-id&gt; --private-key=&lt;private-key&gt;.pem
</code></pre>
<h1 id="pass-the-authentication-token-in-subsequent-requests"><a class="content__anchor" href="#pass-the-authentication-token-in-subsequent-requests" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="pass-tok"></a>Pass the authentication token in subsequent requests</h1>
<p>After the service has successfully logged in, an <a href="/dcosdocs/mesosphere/dcos/1.13/security/ent/service-auth/">authentication token</a> is created. The authentication token should used in subsequent requests to DC/OS endpoints. You can reference the authentication token as a shell variable, for example:</p>
<pre><code>curl -H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot;
</code></pre>
<h1 id="refresh-the-authentication-token"><a class="content__anchor" href="#refresh-the-authentication-token" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="refresh-tok"></a>Refresh the authentication token</h1>
<p>By default, authentication tokens expire after five days. Your service will need to renew its token either before or after it expires. The token itself contains the expiration, so your service can use this information to proactively refresh the token. Alternatively, you can wait to get a <code>401</code> from DC/OS and then refresh it.</p>
<p>To refresh your authentication token, just repeat the process discussed in <a href="#req-auth-tok">Request an authentication token</a>.</p>
<h1 id="dcos-native-service-accounts"><a class="content__anchor" href="#dcos-native-service-accounts" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="dcos-native-service-accounts"></a>DC/OS-native service accounts</h1>
<p>The credentials of DC/OS-native service accounts are private to DC/OS and must not be consumed by third-party software (such as ad-hoc scripts).</p>
<p><strong>Background</strong>: the privileges granted to DC/OS-native service accounts can change during a DC/OS upgrade procedure. That is, consumers other than DC/OS-native services can break during a DC/OS upgrade. Notably, third party software must not mutate the privileges associated with DC/OS-native service accounts (the mutations can be reverted at any point in time).</p>
<p>There is an exception for <code>dcos_marathon</code> and <code>dcos_metronome</code> service accounts that will keep modified privileges because in the <code>strict</code> security mode, some users of DC/OS Enterprise give <code>dcos_marathon</code> and <code>dcos_metronome</code> permissions so that these services can run tasks as Unix users other than <code>nobody</code>.</p>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h1"><a href="#create-a-key-pair">Create a Key Pair</a></li><li class="content__sections-item content__sections-item--h1"><a href="#create-a-service-account">Create a service account</a></li><li class="content__sections-item content__sections-item--h2"><a href="#using-the-dcos-enterprise-cli">Using the DC/OS Enterprise CLI</a></li><li class="content__sections-item content__sections-item--h2"><a href="#using-the-web-interface">Using the web interface</a></li><li class="content__sections-item content__sections-item--h1"><a href="#create-a-secret">Create a secret</a></li><li class="content__sections-item content__sections-item--h2"><a href="#permissive">Permissive</a></li><li class="content__sections-item content__sections-item--h2"><a href="#strict">Strict</a></li><li class="content__sections-item content__sections-item--h1"><a href="#create-and-assign-permissions">Create and assign permissions</a></li><li class="content__sections-item content__sections-item--h2"><a href="#determine-the-required-permissions">Determine the required permissions</a></li><li class="content__sections-item content__sections-item--h2"><a href="#assign-the-permissions">Assign the permissions</a></li><li class="content__sections-item content__sections-item--h1"><a href="#request-an-authentication-token">Request an authentication token</a></li><li class="content__sections-item content__sections-item--h1"><a href="#pass-the-authentication-token-in-subsequent-requests">Pass the authentication token in subsequent requests</a></li><li class="content__sections-item content__sections-item--h1"><a href="#refresh-the-authentication-token">Refresh the authentication token</a></li><li class="content__sections-item content__sections-item--h1"><a href="#dcos-native-service-accounts">DC/OS-native service accounts</a></li></ul></div></aside></main></div></div><script src="/assets/js/jquery-3.2.1.js"></script><script src="/assets/js/clipboard.js"></script><script src="/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>