<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Using GPUs - D2iQ Docs</title><meta name="description" content="Adding Graphics Processing Units to your long-running DC/OS services"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="spherer"><div class="chooser-current"><a class="chooser-title">Mesosphere</a><svg class="chooser-svg" id="spherer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="spherer-list"><li class="chooser-list-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li></ul></div><div class="chooser" id="ks"><div class="chooser-current"><a class="chooser-title">DKP</a><svg class="chooser-svg" id="kspherer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="kspherer-list"><li class="chooser-list-item"><a href="/dkp/konvoy">Konvoy</a></li><li class="chooser-list-item"><a href="/dkp/kommander">Kommander</a></li><li class="chooser-list-item"><a href="/dkp/dispatch">Dispatch</a></li><li class="chooser-list-item"><a href="/dkp/kaptain">Kaptain</a></li></ul></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 2.2"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/gpu">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/deploying-services/gpu">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/gpu">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/deploying-services/gpu">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 2.2</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/multi-tenancy/"><i data-feather="chevron-right"></i>Multi-Tenancy for DC/OS Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/install/">Installing Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/marathon-parameters/">Marathon Configuration Reference</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/creating-services/"><i data-feather="chevron-right"></i>Creating Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/task-handling/"><i data-feather="chevron-right"></i>Task Handling</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/config-universe-service/">Configuring Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/fault-domain-awareness/">Fault Domain Awareness and Capacity Extension</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/service-groups/">Granting Access to Services and Groups</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/marathon-constraints/">Marathon Placement Constraints</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/monitor-services/">Monitoring Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/scale-service/">Scaling a Service</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/service-endpoints/">Service Endpoints</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/service-ports/">Service Ports</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/update-user-service/">Updating a User-Created Service</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/private-docker-registry/">Using a Private Docker Registry</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/deployments/">Deployments</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/expose-service/">Exposing a Service</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/uninstall/">Uninstalling Services</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/package-api/">Package Management API</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/marathon-on-marathon/"><i data-feather="chevron-right"></i>Using Custom Marathon</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/marathon-api/">Marathon API</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/containerizers/"><i data-feather="chevron-right"></i>Using Containerizers</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/pods/"><i data-feather="chevron-right"></i>Pods</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/multi-tenancy-primitives/">Multi-Tenancy Primitives</a></li><li class="active active-on"><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/gpu/">Using GPUs</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/faq/">Frequently Asked Questions</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.2/archives/">Access Documentation Archives</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2021 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Using GPUs</h1></div><h4 class="content__header-description">Adding Graphics Processing Units to your long-running DC/OS services</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/2.2/deploying-services/gpu/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><p>DC/OS supports allocating GPUs (Graphics Processing Units) to your long-running DC/OS services. Adding GPUs to your services can dramatically accelerate big data workloads. With GPU-based scheduling, you can share cluster resources for traditional and machine learning workloads, as well as dynamically allocate GPU resources inside those clusters and free them when needed. You can reserve GPU resources for the workloads that need them, or pool these GPU-enabled resources with the rest of the infrastructure for higher overall utilization. After installing DC/OS with GPUs enabled, you can specify GPUs in your application definitions with the <code>gpus</code> parameter.</p>
<h1 id="installing-dcos-with-gpus-enabled"><a class="content__anchor" href="#installing-dcos-with-gpus-enabled" aria-hidden="true"><i data-feather="bookmark"></i></a>Installing DC/OS with GPUs Enabled</h1>
<p>GPUs must be enabled during DC/OS installation. Follow the instructions below to enable GPUs based on your specific DC/OS deployment method.</p>
<h2 id="on-prem-dcos-installation-with-gpus"><a class="content__anchor" href="#on-prem-dcos-installation-with-gpus" aria-hidden="true"><i data-feather="bookmark"></i></a>On-Prem DC/OS Installation with GPUs</h2>
<ol>
<li>
<p>Install the <a href="https://developer.nvidia.com/nvidia-management-library-nvml">NVIDIA Management Library (NVML)</a> on each node of your cluster that has GPUs. The minimum required NVIDIA driver version is 340.29. For detailed installation instructions, see the <a href="http://mesos.apache.org/documentation/latest/gpu-support/#external-dependencies">Mesos GPU support documentation</a>.</p>
</li>
<li>
<p>Install DC/OS using the <a href="/dcosdocs/mesosphere/dcos/2.2/installing/production/advanced-configuration/">custom advanced installation instructions</a>. Here are the GPU-specific configuration parameters:</p>
<ul>
<li><strong>enable_gpu_isolation</strong>: Indicates whether to enable GPU support in DC/OS. By default, this is set to <code>enable_gpu_isolation: 'true'</code>.</li>
<li><strong>gpus_are_scarce</strong>: Indicates whether to treat GPUs as a scarce resource in the cluster. By default, this is set to <code>gpus_are_scarce: 'true'</code>, which means DC/OS reserves GPU nodes exclusively for services that are configured to consume GPU resources. It is important to note that this setting will influence which agent nodes of a GPU-aware framework will be deployed on DC/OS. This setting does not influence the individual tasks which the frameworks might launch while the framework is running. It is possible for a framework to schedule a non-GPU task on an agent node where GPU’s are present.</li>
<li><strong>marathon_gpu_scheduling_behavior</strong>: Indicates whether Marathon will schedule non-GPU tasks on nodes with an available GPU. Default is <code>restricted</code>.</li>
<li><strong>metronome_gpu_scheduling_behavior</strong>: Indicates whether Metronome will schedule non-GPU tasks on nodes with an available GPU. Default is <code>restricted</code>.</li>
</ul>
<p>For more information, see the <a href="/dcosdocs/mesosphere/dcos/2.2/installing/production/advanced-configuration/configuring-gpu-nodes/">configuration parameter documentation</a> and Mesos <a href="http://mesos.apache.org/documentation/latest/gpu-support/#external-dependencies">Nvidia GPU Support documentation</a>.</p>
</li>
</ol>
<h2 id="cloud-dcos-installation-with-gpus-using-the-dcos-universal-installer"><a class="content__anchor" href="#cloud-dcos-installation-with-gpus-using-the-dcos-universal-installer" aria-hidden="true"><i data-feather="bookmark"></i></a>Cloud DC/OS Installation with GPUs using the DC/OS Universal Installer</h2>
<h3 id="prerequisites"><a class="content__anchor" href="#prerequisites" aria-hidden="true"><i data-feather="bookmark"></i></a>Prerequisites</h3>
<ul>
<li>Review the <a href="/dcosdocs/mesosphere/dcos/2.2/installing/evaluation/">prerequisites</a> of the DC/OS Universal Installer.</li>
<li>Review the prerequisites of your cloud provider, such as <a href="/dcosdocs/mesosphere/dcos/2.2/installing/evaluation/aws/#prerequisites">AWS</a>, <a href="/dcosdocs/mesosphere/dcos/2.2/installing/evaluation/azure/#prerequisites">Azure</a>, or <a href="/dcosdocs/mesosphere/dcos/2.2/installing/evaluation/gcp/#prerequisites">GCP</a>.</li>
</ul>
<h3 id="customize-your-maintf"><a class="content__anchor" href="#customize-your-maintf" aria-hidden="true"><i data-feather="bookmark"></i></a>Customize your main.tf</h3>
<p>In the main.tf file you are using to deploy DC/OS, ensure at least one agent is being deployed with one or more GPUs. Also ensure the agent meets all other <a href="/dcosdocs/mesosphere/dcos/2.2/installing/production/system-requirements/#agent-node-requirements">agent node requirements</a>.</p>
<p>For example, on AWS you can set <code>private_agents_instance_type</code> to any GPU-enabled instance type that is available in your region:</p>
<pre><code>private_agents_instance_type = &quot;p2.xlarge&quot;
</code></pre>
<p>Then proceed with the installation as normal. The DC/OS Universal Installer will detect if NVIDIA GPUs are present on an agent and install the required software automatically.</p>
<h1 id="using-gpus-in-your-apps"><a class="content__anchor" href="#using-gpus-in-your-apps" aria-hidden="true"><i data-feather="bookmark"></i></a>Using GPUs in Your Apps</h1>
<p>You can specify GPUs in your application definitions with the <code>gpus</code> parameter.</p>
<ul>
<li>You can only specify whole numbers of GPUs in your application definition. If a fractional amount is selected, launching the task will result in a <code>TASK_ERROR</code>.</li>
<li>NVIDIA GPU support is only available for tasks launched using the <a href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/containerizers/">DC/OS Universal Container Runtime</a>. Docker is not supported.</li>
</ul>
<h1 id="examples"><a class="content__anchor" href="#examples" aria-hidden="true"><i data-feather="bookmark"></i></a>Examples</h1>
<h2 id="simple-gpu-application-definition"><a class="content__anchor" href="#simple-gpu-application-definition" aria-hidden="true"><i data-feather="bookmark"></i></a>Simple GPU Application Definition</h2>
<p>In this example, a simple sleep app is defined which uses GPUs.</p>
<ol>
<li>
<p>Create an an app definition named <code>simple-gpu-test.json</code>.</p>
<pre><code class="language-json">{
     &quot;id&quot;: &quot;simple-gpu-test&quot;,
     &quot;acceptedResourceRoles&quot;:[&quot;slave_public&quot;, &quot;*&quot;],
     &quot;cmd&quot;: &quot;while [ true ] ; do nvidia-smi; sleep 5; done&quot;,
     &quot;cpus&quot;: 1,
     &quot;mem&quot;: 128,
     &quot;disk&quot;: 0,
     &quot;gpus&quot;: 1,
     &quot;instances&quot;: 1
}
</code></pre>
</li>
<li>
<p>Launch your app using the DC/OS CLI:</p>
<pre><code class="language-bash">dcos marathon app add simple-gpu-test.json
</code></pre>
</li>
<li>
<p>After your service has deployed, check the contents of <code>stdout</code> to verify that the service is producing the proper output from the <code>nvidia-smi</code> command. You should see something like the following, repeated once every 5 seconds. Access the log <a href="/dcosdocs/mesosphere/dcos/2.2/monitoring/logging/quickstart/">via the DC/OS CLI</a> or from the <strong>Health</strong> page for your service on the DC/OS dashboard.</p>
<pre><code class="language-bash">+------------------------------------------------------+
| NVIDIA-SMI 352.79     Driver Version: 352.79         |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  Tesla M60           Off  | 0000:04:00.0     Off |                    0 |
| N/A   34C    P0    39W / 150W |     34MiB /  7679MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
</code></pre>
</li>
</ol>
<p>You will also see an entry for <strong>GPU</strong> in the DC/OS GUI on the <strong>Configuration</strong> tab for your service.</p>
<h2 id="docker-based-application-definition"><a class="content__anchor" href="#docker-based-application-definition" aria-hidden="true"><i data-feather="bookmark"></i></a>Docker-Based Application Definition</h2>
<p>In this example, an app is deployed with GPUs that specifies a Docker container and the <a href="/dcosdocs/mesosphere/dcos/2.2/deploying-services/containerizers/">DC/OS Universal Container Runtime (UCR)</a> (container type to <code>MESOS</code>).</p>
<ol>
<li>
<p>Create an app definition named <code>docker-gpu-test.json</code>.</p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;docker-gpu-test&quot;,
    &quot;acceptedResourceRoles&quot;:[&quot;slave_public&quot;, &quot;*&quot;],
    &quot;cmd&quot;: &quot;while [ true ] ; do nvidia-smi; sleep 5; done&quot;,
    &quot;cpus&quot;: 1,
    &quot;mem&quot;: 128,
    &quot;disk&quot;: 0,
    &quot;gpus&quot;: 1,
    &quot;instances&quot;: 1,
    &quot;container&quot;: {
      &quot;type&quot;: &quot;MESOS&quot;,
      &quot;docker&quot;: {
        &quot;image&quot;: &quot;nvidia/cuda&quot;
      }
    }
}
</code></pre>
</li>
<li>
<p>Launch your app using the DC/OS CLI:</p>
<pre><code class="language-bash">dcos marathon app add docker-gpu-test.json
</code></pre>
</li>
<li>
<p>After your service has deployed, check the contents of <code>stdout</code> to verify that the service is producing the proper output from the <code>nvidia-smi</code> command. You should see something like the following, repeated once every 5 seconds. Access the log <a href="/dcosdocs/mesosphere/dcos/2.2/monitoring/logging/quickstart/">via the DC/OS CLI</a> or from the <strong>Health</strong> page for your service on the DC/OS dashboard.</p>
</li>
</ol>
<p>You will also see an entry for <strong>GPU</strong> on the <strong>Configuration</strong> tab of the page for your service.</p>
<h2 id="learn-more-about-gpus"><a class="content__anchor" href="#learn-more-about-gpus" aria-hidden="true"><i data-feather="bookmark"></i></a>Learn More about GPUs</h2>
<ul>
<li><a href="http://www.nvidia.com/object/what-is-gpu-computing.html">What is GPU Computing?</a></li>
<li><a href="https://github.com/apache/mesos/blob/master/docs/gpu-support.md">Mesos NVIDIA GPU Support</a>.</li>
<li><a href="https://dcos.io/blog/2017/tutorial-deep-learning-with-tensorflow-nvidia-and-apache-mesos-dc-os-part-1/index.html">Tutorial: Deep learning with TensorFlow, Nvidia and Apache Mesos (DC/OS)</a>.</li>
<li>Presentation: <a href="https://docs.google.com/presentation/d/1FnuEW2ic5d-cpSyVOUMfUSM7WxJlZtTAAWt2dZXJ52A/edit#slide=id.p">Supporting GPUs in Docker Containers on Apache Mesos</a>.</li>
<li>Presentation: <a href="https://www.youtube.com/watch?v=giJ4GXFoeuA">GPU Support in Apache Mesos</a>.</li>
<li>Presentation: <a href="https://docs.google.com/presentation/d/1Y1IUlWV6g1HzD1wYIYXy6AmbfnczWfjvvmqqpeDFBic/edit#slide=id.p">Adding GPU Support to Mesos</a>.</li>
</ul>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h1"><a href="#installing-dcos-with-gpus-enabled">Installing DC/OS with GPUs Enabled</a></li><li class="content__sections-item content__sections-item--h2"><a href="#on-prem-dcos-installation-with-gpus">On-Prem DC/OS Installation with GPUs</a></li><li class="content__sections-item content__sections-item--h2"><a href="#cloud-dcos-installation-with-gpus-using-the-dcos-universal-installer">Cloud DC/OS Installation with GPUs using the DC/OS Universal Installer</a></li><li class="content__sections-item content__sections-item--h1"><a href="#using-gpus-in-your-apps">Using GPUs in Your Apps</a></li><li class="content__sections-item content__sections-item--h1"><a href="#examples">Examples</a></li><li class="content__sections-item content__sections-item--h2"><a href="#simple-gpu-application-definition">Simple GPU Application Definition</a></li><li class="content__sections-item content__sections-item--h2"><a href="#docker-based-application-definition">Docker-Based Application Definition</a></li><li class="content__sections-item content__sections-item--h2"><a href="#learn-more-about-gpus">Learn More about GPUs</a></li></ul></div></aside></main></div></div><script src="/assets/js/jquery-3.2.1.js"></script><script src="/assets/js/clipboard.js"></script><script src="/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>