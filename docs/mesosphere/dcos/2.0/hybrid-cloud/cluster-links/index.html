<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Cluster Links - D2iQ Docs</title><meta name="description" content="Managing cluster links"><link rel="apple-touch-icon" sizes="180x180" href="/dcosdocs/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/dcosdocs/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/dcosdocs/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/dcosdocs/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/dcosdocs/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="spherer"><div class="chooser-current"><a class="chooser-title">Mesosphere</a><svg class="chooser-svg" id="spherer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="spherer-list"><li class="chooser-list-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li></ul></div><div class="chooser" id="ks"><div class="chooser-current"><a class="chooser-title">DKP</a><svg class="chooser-svg" id="kspherer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="kspherer-list"><li class="chooser-list-item"><a href="/dkp/konvoy">Konvoy</a></li><li class="chooser-list-item"><a href="/dkp/kommander">Kommander</a></li><li class="chooser-list-item"><a href="/dkp/dispatch">Dispatch</a></li><li class="chooser-list-item"><a href="/dkp/kaptain">Kaptain</a></li></ul></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/2.0/hybrid-cloud/cluster-links">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 2.0"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/hybrid-cloud/cluster-links">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/hybrid-cloud/cluster-links">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/cluster-links">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/hybrid-cloud/cluster-links">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 2.0</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/multi-tenancy/"><i data-feather="chevron-right"></i>Multi-Tenancy for DC/OS Clusters</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><ul><li class="active active-on"><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/cluster-links/">Cluster Links</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/fault-domain-awareness-with-zones/">Fault Domain Awareness with Zones</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/capacity-extension-with-regions/">Capacity Extensions with Regions</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/decommission-nodes/">Decommission Nodes</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2021 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Cluster Links</h1><p class="badge badge--content-header badge--enterprise">ENTERPRISE</p></div><h4 class="content__header-description">Managing cluster links</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/cluster-links/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><p>A cluster link is a <strong>unidirectional</strong> relationship between a cluster and another cluster.</p>
<p>You add and remove links from one cluster to another cluster using DC/OS™ CLI <a href="/dcosdocs/mesosphere/dcos/2.0/cli/command-reference/dcos-cluster/dcos-cluster-link/">dcos cluster link</a> and <a href="/dcosdocs/mesosphere/dcos/2.0/cli/command-reference/dcos-cluster/dcos-cluster-unlink/">dcos cluster unlink</a> commands and the <a href="/dcosdocs/mesosphere/dcos/2.0/administering-clusters/multiple-clusters/cluster-link-api/">cluster link API</a>. Once a link is set up you can easily switch between clusters using the CLI or UI. If the links have been set up using an SSO provider, you will not need to provide credentials to switch clusters.</p>
<p>You must be a superuser or have the appropriate cluster link <a href="/dcosdocs/mesosphere/dcos/2.0/security/ent/perms-reference/#cluster-linker">permission</a> to view, add, and remove links and grant permissions to view linked clusters.</p>
<h1 id="enable-access-to-cluster-links-using-sso"><a class="content__anchor" href="#enable-access-to-cluster-links-using-sso" aria-hidden="true"><i data-feather="bookmark"></i></a>Enable access to cluster links using SSO</h1>
<p>As superuser:</p>
<ol>
<li>
<p>Configure an <a href="/dcosdocs/mesosphere/dcos/2.0/security/ent/sso/setup-openid/">OpenID® IdP</a>.</p>
<ol>
<li>Ensure both cluster URLs are provided in <strong>Authorized JavaScript origins</strong> and <strong>Authorized redirect URIs</strong> fields in the Google® Dev console.</li>
<li>Give the OIDC name such as “google-idp”.</li>
<li>Ensure both clusters use the same <code>Client-Id</code> and <code>Client-Secret</code> when configuring OIDC.</li>
</ol>
</li>
<li>
<p>Provide each user with permission to see services and linked clusters:</p>
<ol>
<li>
<p>Select <strong>Organization -&gt; Users</strong>.</p>
</li>
<li>
<p>Select a user.</p>
</li>
<li>
<p>Click <strong>Add Permission</strong>.</p>
</li>
<li>
<p>In the top right, click <strong>Insert Permission String</strong>.</p>
</li>
<li>
<p>Paste in the permissions:</p>
<pre><code class="language-bash">dcos:adminrouter:ops:mesos full
dcos:adminrouter:ops:slave full
dcos:adminrouter:service:marathon full
dcos:service:marathon:marathon:services:/ full
dcos:cluster:linker:* read
</code></pre>
</li>
<li>
<p>Click <strong>Add Permission</strong>.</p>
</li>
</ol>
</li>
</ol>
<h1 id="add-a-link-to-a-cluster"><a class="content__anchor" href="#add-a-link-to-a-cluster" aria-hidden="true"><i data-feather="bookmark"></i></a>Add a link to a cluster</h1>
<p>To add a link to another cluster, run the <code>dcos cluster link</code> command, supplying the URL of the cluster to link to:</p>
<pre><code class="language-bash">dcos cluster link &lt;dcos-url&gt;
Choose the login method and provider to enable switching to this linked cluster::
1) Provider 1
2) Provider 2
(1-2):
</code></pre>
<h1 id="viewing-linked-clusters"><a class="content__anchor" href="#viewing-linked-clusters" aria-hidden="true"><i data-feather="bookmark"></i></a>Viewing linked clusters</h1>
<p>To view all linked clusters, run the <code>dcos cluster list</code> command. If a cluster was linked, but not set up, its status is <code>UNCONFIGURED</code>. If a cluster is linked and attached, its status is <code>AVAILABLE</code>. Also see <a href="/dcosdocs/mesosphere/dcos/2.0/administering-clusters/multiple-clusters/cluster-connections/">Viewing Connected Clusters</a>.</p>
<h1 id="remove-a-linked-cluster"><a class="content__anchor" href="#remove-a-linked-cluster" aria-hidden="true"><i data-feather="bookmark"></i></a>Remove a linked cluster</h1>
<p>To remove a link, <code>dcos cluster unlink</code> command and supply the <strong>name</strong> or <strong>ID</strong> of a linked cluster. For example:</p>
<pre><code class="language-bash">dcos cluster unlink &lt;linked-cluster&gt;
</code></pre>
<h1 id="switch-cluster"><a class="content__anchor" href="#switch-cluster" aria-hidden="true"><i data-feather="bookmark"></i></a>Switch cluster</h1>
<p>You can switch between linked clusters using the CLI or UI. When you switch clusters using the CLI, the new cluster becomes the CLI’s active cluster. The new cluster becomes the cluster you see in the UI.  If you switch the cluster in the CLI it does not change the cluster in the UI; similarly, switching in the UI does not affect the attached cluster in the CLI.</p>
<h2 id="switch-to-a-linked-cluster-from-the-dcos-cli"><a class="content__anchor" href="#switch-to-a-linked-cluster-from-the-dcos-cli" aria-hidden="true"><i data-feather="bookmark"></i></a>Switch to a linked cluster from the DC/OS CLI</h2>
<p>Run the <code>dcos cluster attach</code> command and supply the name or ID of a linked cluster:</p>
<pre><code class="language-bash">dcos cluster attach &lt;linked-cluster&gt;
</code></pre>
<p>If you run <code>dcos cluster list</code>, <code>&lt;linked-cluster&gt;</code> will have an asterisk by its name.</p>
<h2 id="switch-to-a-linked-cluster-from-the-dcos-ui"><a class="content__anchor" href="#switch-to-a-linked-cluster-from-the-dcos-ui" aria-hidden="true"><i data-feather="bookmark"></i></a>Switch to a linked cluster from the DC/OS UI</h2>
<ol>
<li>
<p>At the top-right corner of the DC/OS web interface, click the down arrow to the right of your cluster name.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/open-cluster-popup.png" alt="open cluster popup"></p>
<p>Figure 1 - Cluster dropdown</p>
</li>
<li>
<p>Select <strong>Switch Cluster</strong>.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/switch-cluster-1-12.png" alt="swi cluster"></p>
<p>Figure 2 - Cluster switch</p>
</li>
<li>
<p>Click the name of the cluster to switch to.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/switch-linked-cluster.png" alt="swi linked cluster"></p>
<p>Figure 3 - Switch to linked cluster</p>
</li>
</ol>
<p>If you are a superuser, you can also switch to a linked cluster in the Linked Clusters tab.</p>
<ol>
<li>
<p>Select <strong>Cluster -&gt; Linked Clusters</strong>.</p>
</li>
<li>
<p>At the far right of the cluster to switch to, click the vertical ellipsis and select <strong>Switch</strong>.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/switch-linked-cluster2.png" alt="swi linked cluster2"></p>
<p>Figure 4 - Switch to linked clusters</p>
</li>
</ol>
<h1 id="example-of-linking-and-switching-cluster"><a class="content__anchor" href="#example-of-linking-and-switching-cluster" aria-hidden="true"><i data-feather="bookmark"></i></a>Example of linking and switching cluster</h1>
<h2 id="link-clusters-as-a-superuser-operator-using-cli"><a class="content__anchor" href="#link-clusters-as-a-superuser-operator-using-cli" aria-hidden="true"><i data-feather="bookmark"></i></a>Link clusters as a superuser operator using CLI</h2>
<ol>
<li>
<p>Set up cluster <code>cluster-a</code> using the <code>dcos-user</code> provider.</p>
<pre><code class="language-bash">$ dcos cluster setup --provider=dcos-users https://cluster-a.us-west-2.elb.amazonaws.com
</code></pre>
<p>The response requests that you verify the fingerprint of the cluster certificate bundle, which must be accepted with the response <code>yes</code>.
The CLI prompts for superuser credentials. Provide the credentials.</p>
</li>
<li>
<p>Set up <code>cluster-b</code> using the <code>dcos-user</code> provider.</p>
<pre><code class="language-bash">$ dcos cluster setup --provider=dcos-users https://cluster-b.us-west-2.elb.amazonaws.com
</code></pre>
<p>The response requests that you verify the fingerprint of the cluster certificate bundle, which must be accepted with the response <code>yes</code>.
The CLI prompts for superuser credentials. Enter the credentials.</p>
</li>
<li>
<p>Attach to cluster <code>cluster-a</code> and list.</p>
<pre><code class="language-bash">dcos cluster attach cluster-a
dcos cluster list
      NAME                    CLUSTER ID                 STATUS   VERSION                                         URL
 cluster-b  34ddd64a-9301-40b1-bb6a-201ec55a0d80  AVAILABLE  1.12-dev   https://cluster-b.us-west-2.elb.amazonaws.com
cluster-a*  584d3e8f-c5c2-4c86-b180-ff3c1f15b0d5  AVAILABLE  1.12-dev  https://cluster-a.us-west-2.elb.amazonaws.com
</code></pre>
</li>
<li>
<p>Link to cluster <code>cluster-b</code> from cluster <code>cluster-a</code>.</p>
<pre><code class="language-bash">dcos cluster link https://cluster-b.us-west-2.elb.amazonaws.com
</code></pre>
<p>The CLI prompts to choose the login provider for switching.</p>
<pre><code class="language-bash">Choose the login method and provider to enable switching to this linked cluster:
1) Log in using a standard DC/OS user account (username and password)
2) Log in using OpenID Connect (Google IDP)
(1-2):
</code></pre>
</li>
<li>
<p>Choose Google® IDP (2).</p>
<pre><code class="language-bash">(1-2): 2
</code></pre>
</li>
</ol>
<p>If the cluster links successfully there is no response.</p>
<ol>
<li>
<p>Attach to cluster <code>cluster-b</code>.</p>
<pre><code class="language-bash">dcos cluster attach cluster-b
</code></pre>
</li>
<li>
<p>Link to cluster <code>cluster-a</code> from cluster <code>cluster-b</code>.</p>
<pre><code class="language-bash">dcos cluster link https://cluster-a.us-west-2.elb.amazonaws.com
</code></pre>
<p>The CLI prompts to choose the login provider for switching.</p>
<pre><code class="language-text">Choose the login method and provider to enable switching to this linked cluster:
1) Log in using a standard DC/OS user account (username and password)
2) Log in using OpenID Connect (Google IDP)
(1-2):
</code></pre>
</li>
<li>
<p>Choose Google IDP (2).</p>
<pre><code class="language-text">(1-2): 2
</code></pre>
</li>
<li>
<p>List clusters.</p>
<pre><code class="language-bash">dcos cluster list
      NAME                    CLUSTER ID                 STATUS   VERSION                                         URL
cluster-b*  34ddd64a-9301-40b1-bb6a-201ec55a0d80  AVAILABLE  1.12-dev   https://cluster-b.us-west-2.elb.amazonaws.com
 cluster-a  584d3e8f-c5c2-4c86-b180-ff3c1f15b0d5  AVAILABLE  1.12-dev  https://cluster-a.us-west-2.elb.amazonaws.com
</code></pre>
</li>
</ol>
<p>Once an operator has set up links, you can switch between clusters using the UI or CLI.</p>
<h3 id="switch-clusters-using-the-web-interface-with-google-sso"><a class="content__anchor" href="#switch-clusters-using-the-web-interface-with-google-sso" aria-hidden="true"><i data-feather="bookmark"></i></a>Switch clusters using the web interface with Google SSO</h3>
<p>You can easily switch to a linked cluster that has been set up with the Google OpenID provider.</p>
<ol>
<li>
<p>Log in to DC/OS UI of cluster <code>cluster-a</code> as an external user using Google credentials.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/google-login.png" alt="google login"></p>
<p>Figure 5 - Google login</p>
</li>
<li>
<p>From the top left corner, click the down arrow next to the cluster name.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/switch-cluster-1-12.png" alt="swi cluster"></p>
<p>Figure 6 - Switch cluster</p>
</li>
<li>
<p>Click <strong>Switch Cluster</strong>. In the Linked Clusters pane, select cluster <code>cluster-b</code>. Cluster <code>cluster-b</code>’s UI displays.</p>
</li>
</ol>
<h3 id="switch-clusters-using-the-cli-with-google-sso"><a class="content__anchor" href="#switch-clusters-using-the-cli-with-google-sso" aria-hidden="true"><i data-feather="bookmark"></i></a>Switch clusters using the CLI with Google SSO</h3>
<p>You can easily switch to a linked cluster that has been set up with the Google OpenID provider.</p>
<ol>
<li>
<p>List authentication providers.</p>
<pre><code class="language-bash">dcos auth list-providers https://cluster-a.us-west-2.elb.amazonaws.com
PROVIDER ID    AUTHENTICATION TYPE
dcos-services  Log in using a DC/OS service user account (username and private key)
dcos-users     Log in using a standard DC/OS user account (username and password)
google-idp     Log in using OpenID Connect (Google IDP)
</code></pre>
</li>
<li>
<p>Set up cluster with Google IDP.</p>
<pre><code class="language-bash">dcos cluster setup --provider=google-id https://cluster-a.us-west-2.elb.amazonaws.com
</code></pre>
<p>The response requests you to verify the fingerprint of the cluster certificate bundle, which must be accepted with the response <code>yes</code>.</p>
</li>
<li>
<p>Copy the authentication token from the browser and paste in the terminal.</p>
</li>
<li>
<p>List clusters. The setup cluster shows as AVAILABLE and attached and the previously linked cluster shows as UNCONFIGURED.</p>
<pre><code class="language-bash">dcos cluster list
      NAME                    CLUSTER ID                  STATUS     VERSION                                         URL
 cluster-b  34ddd64a-9301-40b1-bb6a-201ec55a0d80  UNCONFIGURED  1.12-dev   https://cluster-b.us-west-2.elb.amazonaws.com
cluster-a*  584d3e8f-c5c2-4c86-b180-ff3c1f15b0d5   AVAILABLE    1.12-dev  https://cluster-a.us-west-2.elb.amazonaws.com
</code></pre>
</li>
<li>
<p>Attach to UNCONFIGURED cluster.</p>
<pre><code class="language-bash">dcos cluster attach cluster-b
</code></pre>
<p>The response requests that you verify the fingerprint of the cluster certificate bundle, which must be accepted with the response <code>yes</code>.</p>
</li>
<li>
<p>Copy the authentication token from the browser and paste in the terminal. The CLI successfully attaches to cluster <code>cluster-b</code>.</p>
</li>
<li>
<p>List clusters to verify attachment to <code>cluster-b</code>.</p>
<pre><code class="language-bash">dcos cluster list
      NAME                    CLUSTER ID                 STATUS   VERSION                                         URL
cluster-b*  34ddd64a-9301-40b1-bb6a-201ec55a0d80  AVAILABLE  1.12-dev   https://cluster-b.us-west-2.elb.amazonaws.com
 cluster-a  584d3e8f-c5c2-4c86-b180-ff3c1f15b0d5  AVAILABLE  1.12-dev  https://cluster-a.us-west-2.elb.amazonaws.com
</code></pre>
</li>
</ol>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h1"><a href="#enable-access-to-cluster-links-using-sso">Enable access to cluster links using SSO</a></li><li class="content__sections-item content__sections-item--h1"><a href="#add-a-link-to-a-cluster">Add a link to a cluster</a></li><li class="content__sections-item content__sections-item--h1"><a href="#viewing-linked-clusters">Viewing linked clusters</a></li><li class="content__sections-item content__sections-item--h1"><a href="#remove-a-linked-cluster">Remove a linked cluster</a></li><li class="content__sections-item content__sections-item--h1"><a href="#switch-cluster">Switch cluster</a></li><li class="content__sections-item content__sections-item--h2"><a href="#switch-to-a-linked-cluster-from-the-dcos-cli">Switch to a linked cluster from the DC/OS CLI</a></li><li class="content__sections-item content__sections-item--h2"><a href="#switch-to-a-linked-cluster-from-the-dcos-ui">Switch to a linked cluster from the DC/OS UI</a></li><li class="content__sections-item content__sections-item--h1"><a href="#example-of-linking-and-switching-cluster">Example of linking and switching cluster</a></li><li class="content__sections-item content__sections-item--h2"><a href="#link-clusters-as-a-superuser-operator-using-cli">Link clusters as a superuser operator using CLI</a></li></ul></div></aside></main></div></div><script src="/dcosdocs/assets/js/jquery-3.2.1.js"></script><script src="/dcosdocs/assets/js/clipboard.js"></script><script src="/dcosdocs/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>