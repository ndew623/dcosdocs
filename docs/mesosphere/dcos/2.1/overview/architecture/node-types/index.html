<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Node Types - D2iQ Docs</title><meta name="description" content="Understanding the three types of nodes"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/2.1/overview/architecture/node-types">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 2.1"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/overview/architecture/node-types">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/overview/architecture/node-types">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/overview/architecture/node-types">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/overview/architecture/node-types">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 2.1</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/overview/"><i data-feather="chevron-right"></i>Overview</a></li><ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/overview/what-is-dcos/">What is DC/OS</a></li><li class="active"><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/overview/architecture/"><i data-feather="chevron-right"></i>Architecture</a></li><ul><li class="active active-on"><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/overview/architecture/node-types/">Node Types</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/overview/architecture/task-types/">Task Types</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/overview/architecture/components/">Components</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/overview/architecture/distributed-process-management/">Distributed Process Management</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/overview/architecture/boot-sequence/">Boot Sequence</a></li></ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/overview/features/">Features</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/overview/concepts/">Concepts</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/overview/high-availability/">High Availability</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/overview/design/"><i data-feather="chevron-right"></i>Design</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/overview/feature-maturity/">Feature Maturity</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/multi-tenancy/"><i data-feather="chevron-right"></i>Multi-Tenancy for DC/OS Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2022 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Node Types</h1></div><h4 class="content__header-description">Understanding the three types of nodes</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/2.1/overview/architecture/node-types/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><p>A DC/OS node is a virtual or physical machine on which DC/OS components run. DC/OS nodes are networked together to form a DC/OS cluster. A DC/OS cluster is composed of three types of nodes: master nodes, private agent nodes, and public agent nodes.</p>
<p>We recommend that you use different types of nodes set up in different networks (private, public, master) as seen in Figure 1.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.1/img/node-types-redesigned.png" alt="DC/OS Node Types"></p>
<p>Figure 1 - DC/OS node types</p>
<p>Protect your cluster from the outside with firewall settings specific for the node type.</p>
<p class="message--note"><strong>NOTE: </strong>The internal communication between the different nodes must be as open as possible.</p>
<ul>
<li>Each node must have unfettered IP-to-IP connectivity from itself to all nodes in the DC/OS cluster.</li>
<li>All ports should be open for communication from the master nodes to the agent nodes and vice versa.</li>
<li>Setting firewall rules between the nodes of any types is not recommended.</li>
</ul>
<h2 id="master-nodes"><a class="content__anchor" href="#master-nodes" aria-hidden="true"><i data-feather="bookmark"></i></a>Master Nodes</h2>
<p>A DC/OS master node is a node that works with other master nodes to manage the rest of the cluster. Master nodes contain the bulk of the DC/OS components, including a Mesos master process.</p>
<h3 id="protected-zone"><a class="content__anchor" href="#protected-zone" aria-hidden="true"><i data-feather="bookmark"></i></a>Protected Zone</h3>
<p>Depending on distribution, deployment method, and infrastructure configuration, master nodes may be publicly accessible or in a network zone that restricts access to improve security. Common strategies include restricting master node access to the IP range of your offices and requiring <a href="https://en.wikipedia.org/wiki/Virtual_private_network">VPN</a> access.</p>
<h3 id="high-availability"><a class="content__anchor" href="#high-availability" aria-hidden="true"><i data-feather="bookmark"></i></a>High Availability</h3>
<p>Multiple master nodes work together to provide high availability and fault tolerance. You can use a cluster with only one master node for development, but such a cluster is not highly available and may not be able to recover from failure.</p>
<h3 id="leader-election"><a class="content__anchor" href="#leader-election" aria-hidden="true"><i data-feather="bookmark"></i></a>Leader Election</h3>
<p>Mesos performs <a href="https://en.wikipedia.org/wiki/Leader_election">leader election</a> and routes incoming traffic to the current leader to ensure consistency. Like Mesos, several other DC/OS master node components perform independent leader election. This means that the leaders for different components, like Marathon and ZooKeeper, may be on different master nodes.</p>
<h3 id="quorum"><a class="content__anchor" href="#quorum" aria-hidden="true"><i data-feather="bookmark"></i></a>Quorum</h3>
<p>To maintain consistency, a quorum (half plus one) of master nodes must be connected at all times. For example, having three master nodes allows one to be down; having five master nodes allows two to be down, allowing for failure during a rolling update. Additional master nodes can be added for additional risk tolerance.</p>
<p>The number of master nodes can only be specified during installation. This is primarily because of the complexity of changing the quorum and configuration of multiple components with leaders on different nodes.</p>
<h2 id="agent-nodes"><a class="content__anchor" href="#agent-nodes" aria-hidden="true"><i data-feather="bookmark"></i></a>Agent Nodes</h2>
<p>A DC/OS agent node is a node on which user tasks are run. Agent nodes contain a few DC/OS components, including a Mesos agent process. Agent nodes can be public or private, depending on agent and network configuration.</p>
<h3 id="public-agent-nodes"><a class="content__anchor" href="#public-agent-nodes" aria-hidden="true"><i data-feather="bookmark"></i></a>Public Agent Nodes</h3>
<p>A public agent node is an agent node that is on a network that allows ingress from outside of the cluster via the cluster’s <a href="/dcosdocs/mesosphere/dcos/2.1/overview/concepts/#infrastructure-network">infrastructure networking</a>.</p>
<p>The resources on public agent nodes are, by default, configured to only be allocated to tasks that specify the <code>slave_public</code> role. The Mesos agents on public agent nodes also have the <code>public_ip:true</code> agent attribute to assist in their discovery.</p>
<p>Public agent nodes are used primarily for externally facing reverse proxy load balancers, like Marathon-LB. This provides a <a href="https://en.wikipedia.org/wiki/DMZ_%28computing%29">DMZ</a> that decreases the surface area that could be accessed by malicious attackers.</p>
<p>Clusters generally have only a few public agent nodes, because a few load balancers can usually handle proxying to multiple services.</p>
<h3 id="private-agent-nodes"><a class="content__anchor" href="#private-agent-nodes" aria-hidden="true"><i data-feather="bookmark"></i></a>Private Agent Nodes</h3>
<p>A private agent node is an agent node that is on a network that does not allow access from outside of the cluster via the cluster’s <a href="/dcosdocs/mesosphere/dcos/2.1/overview/concepts/#infrastructure-network">infrastructure networking</a>.</p>
<p>By default, the resources on private agent nodes are configured to allow undifferentiated allocation. More precisely, the resources are given the <code>*</code> role, allowing them to be allocated to any task that does not specify a role. For more information, see <a href="http://mesos.apache.org/documentation/latest/roles/">Mesos resource roles</a>.</p>
<p>Because these resources are undifferentiated, most tasks are scheduled on private agent nodes and are inaccessible from outside the cluster, decreasing the surface area that could be accessed by malicious attackers. For this reason, clusters are generally comprised of mostly private agent nodes. Likewise, most <a href="/dcosdocs/mesosphere/dcos/2.1/overview/concepts/#mesosphere-universe">Mesosphere Catalog</a> packages install by default on private agent nodes.</p>
<h2 id="more-information"><a class="content__anchor" href="#more-information" aria-hidden="true"><i data-feather="bookmark"></i></a>More Information</h2>
<p>For more on master and agent node components, see <a href="/dcosdocs/mesosphere/dcos/2.1/overview/architecture/components/">Components</a>.</p>
<p>For more on security, see <a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/securing-your-cluster/">Securing your cluster</a>.</p>
<p>For more on scaling your cluster, see <a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/add-a-node/">Adding agent nodes</a>.</p>
<p>For more on configuring public nodes, see <a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/convert-agent-type/">Converting agent node types</a>.</p>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h2"><a href="#master-nodes">Master Nodes</a></li><li class="content__sections-item content__sections-item--h2"><a href="#agent-nodes">Agent Nodes</a></li><li class="content__sections-item content__sections-item--h2"><a href="#more-information">More Information</a></li></ul></div></aside></main></div></div><script src="/assets/js/jquery-3.2.1.js"></script><script src="/assets/js/clipboard.js"></script><script src="/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>