<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Controlling Access to Task Logs - D2iQ Docs</title><meta name="description" content="Managing user access to task logs using Marathon groups"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/2.0/monitoring/logging/access-task-logs">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 2.0"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/monitoring/logging/access-task-logs">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/monitoring/logging/access-task-logs">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/access-task-logs">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/monitoring/logging/access-task-logs">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 2.0</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/performance-monitoring/"><i data-feather="chevron-right"></i>Performance Monitoring</a></li><li class="active"><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/"><i data-feather="chevron-right"></i>Logging</a></li><ul><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/quickstart/">Quick Start</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/access-component-logs/">Accessing system and component logs</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/configure-task-logs/">Configuring Task Log Output and Retention</a></li><li class="active active-on"><a class="d2" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/access-task-logs/">Controlling Access to Task Logs</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/aggregating/"><i data-feather="chevron-right"></i>Log Aggregation</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/logging-reference/">Logging Reference</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/logging-api-examples/">Logging API Examples</a></li></ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.0/monitoring/debugging/"><i data-feather="chevron-right"></i>Debugging</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/multi-tenancy/"><i data-feather="chevron-right"></i>Multi-Tenancy for DC/OS Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.0/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2022 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Controlling Access to Task Logs</h1><p class="badge badge--content-header badge--enterprise">ENTERPRISE</p></div><h4 class="content__header-description">Managing user access to task logs using Marathon groups</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/2.0/monitoring/logging/access-task-logs/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><p>You can control user access to task logs by using Marathon groups for jobs and services. You can then assign permissions to access these groups, allowing you to control which logs a user can access.</p>
<p class="message--important"><strong>IMPORTANT: </strong>The functionality described in this document is only available in strict security mode.</p> 
<p>In this procedure, you will deploy services in separate Marathon groups, and grant user permissions to view the tasks for these Marathon groups.</p>
<p>Here is an overview of the <a href="/dcosdocs/mesosphere/dcos/2.0/security/ent/perms-reference/">permissions</a> that are required:</p>
<table>
<thead>
<tr>
<th>Permission string</th>
<th>full</th>
<th>C</th>
<th>R</th>
<th>U</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dcos:adminrouter:ops:mesos</code><br> Controls access to the Mesos master UI and API.</td>
<td>x</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dcos:adminrouter:ops:slave</code><br>Controls access to the Mesos agent UI and API.</td>
<td>x</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dcos:mesos:agent:executor:app_id[:&lt;service-or-job-group&gt;]</code><br> Controls view access to service and job <a href="https://mesos.apache.org/documentation/latest/app-framework-development-guide/">executor information</a>.</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dcos:mesos:agent:framework:role[:&lt;role-name&gt;]</code><br> Controls view access to DC/OS services registered with a particular role.</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dcos:mesos:agent:sandbox:app_id[:&lt;service-or-job-group&gt;]</code><br> Controls access to the Mesos sandbox.</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dcos:mesos:agent:task:app_id[:&lt;service-or-job-group&gt;]</code><br> Controls access to task information.</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dcos:mesos:master:executor:app_id[:&lt;service-or-job-group&gt;]</code><br> Controls access to <a href="https://mesos.apache.org/documentation/latest/app-framework-development-guide/">executor</a> service and job groups.</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dcos:mesos:master:framework:role[:&lt;role-name&gt;]</code> <br> Controls access, by role, to register as a framework with <a href="https://mesos.apache.org/documentation/latest/roles/">Mesos</a>.</td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>dcos:mesos:master:task:app_id[:&lt;service-or-job-group&gt;]</code><br> Controls access to run tasks.</td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Prerequisites:</strong></p>
<ul>
<li>DC/OS and DC/OS CLI are <a href="/dcosdocs/mesosphere/dcos/2.0/installing/">installed</a> and you are logged in as a superuser.</li>
</ul>
<h1 id="via-the-dcos-web-interface"><a class="content__anchor" href="#via-the-dcos-web-interface" aria-hidden="true"><i data-feather="bookmark"></i></a>Via the DC/OS web interface</h1>
<h3 id="create-the-groups-and-grant-permission"><a class="content__anchor" href="#create-the-groups-and-grant-permission" aria-hidden="true"><i data-feather="bookmark"></i></a>Create the groups and grant permission</h3>
<ol>
<li>
<p>Select <strong>Organization</strong> and choose <strong>Groups</strong>.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/GUI-Organization-Groups-Add_Group_w_Plus_Button_Tooltip-1_12.png" alt="New group"></p>
<p>Figure 1. New user group</p>
</li>
<li>
<p>Create a new group.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/GUI-Organization-Groups-Create_New_Group_Modal-1_12.png" alt="Prod group"></p>
<p>Figure 2. Create new group screen</p>
</li>
<li>
<p>Select the group name and from the <strong>Permissions</strong> tab, click <strong>ADD PERMISSION</strong>.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/GUI-Organization-Groups-Group_Detail_Page-1_12.png" alt="Add permission to prod-group"></p>
<p>Figure 3. Add Permission button</p>
</li>
<li>
<p>Click <strong>INSERT PERMISSION STRING</strong> to toggle the dialog, and then paste in the following permissions and click <strong>ADD PERMISSIONS</strong>.</p>
<pre><code class="language-bash">dcos:adminrouter:ops:mesos full
dcos:adminrouter:ops:slave full
dcos:mesos:agent:executor:app_id:/prod-group/ read
dcos:mesos:agent:framework:role:slave_public/ read
dcos:mesos:agent:sandbox:app_id:/prod-group/ read
dcos:mesos:agent:task:app_id:/prod-group/ read
dcos:mesos:master:executor:app_id:/prod-group/ read
dcos:mesos:master:framework:role:slave_public/ read
dcos:mesos:master:task:app_id:/prod-group/ read
</code></pre>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/GUI-Organization-Groups-Add_Perms_Modal_Logging-1_12.png" alt="Add permission"></p>
<p>Figure 4. Permissions string added</p>
</li>
</ol>
<h3 id="create-the-users-and-grant-permission"><a class="content__anchor" href="#create-the-users-and-grant-permission" aria-hidden="true"><i data-feather="bookmark"></i></a>Create the users and grant permission</h3>
<ol>
<li>
<p>Select <strong>Organization</strong> and choose <strong>Users</strong>. Select an existing or create a new user.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/GUI-Organization-Users-View_w_AddUser_Tooltip-1_12.png" alt="New user"></p>
<p>Figure 5. Users screen</p>
</li>
<li>
<p>From the <strong>Group Membership</strong> tab, type in the search box and choose the group name. This will grant the group permissions to an individual user.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/GUI-Organization-Users-User_Alice_Add_prod_group-1_12.png" alt="Add alice to security group"></p>
<p>Figure 6. Adding user to security group</p>
</li>
</ol>
<h3 id="launch-apps-in-the-user-groups"><a class="content__anchor" href="#launch-apps-in-the-user-groups" aria-hidden="true"><i data-feather="bookmark"></i></a>Launch apps in the user groups</h3>
<p>This section shows you how to deploy a simple application in your group.</p>
<ol>
<li>
<p>Select <strong>Services</strong> &gt; <strong>RUN A SERVICE</strong>.</p>
</li>
<li>
<p>Select <strong>Single Container</strong> and define your service as:</p>
<ul>
<li><strong>SERVICE ID</strong> Specify <code>/&lt;gid&gt;/&lt;service-name&gt;</code>. This creates a service within a service group.</li>
<li><strong>COMMAND</strong> Specify <code>sleep 1000000000</code>.</li>
<li><strong>Container Runtime</strong> Select <strong>UNIVERSAL CONTAINER RUNTIME (UCR)</strong>.</li>
</ul>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/GUI-Services-Add_Service_Single_Container_Alice-1_12.png" alt="Define nested service"></p>
<p>Figure 7. Define a nested service</p>
</li>
<li>
<p>Click <strong>REVIEW &amp; RUN</strong> and <strong>RUN SERVICE</strong> to complete your installation. You should now see a service that is running in a group.</p>
<p><img src="/dcosdocs/mesosphere/dcos/2.0/img/GUI-Services-Main_View_prod_group_Alice-1_12.png" alt="Service running within group"></p>
<p>Figure 8. Service running in a group</p>
</li>
</ol>
<p>Now you can <a href="#verifying-access">verify access</a>.</p>
<h1 id="via-the-iam-api"><a class="content__anchor" href="#via-the-iam-api" aria-hidden="true"><i data-feather="bookmark"></i></a>Via the IAM API</h1>
<p><strong>Prerequisite:</strong>
You must <a href="/dcosdocs/mesosphere/dcos/2.0/security/ent/tls-ssl/get-cert/">get the root cert</a> before issuing the curl commands in this section.</p>
<h3 id="tips"><a class="content__anchor" href="#tips" aria-hidden="true"><i data-feather="bookmark"></i></a>Tips</h3>
<ul>
<li>Service resources often include <code>/</code> characters that must be replaced with <code>%252F</code> in <code>curl</code> requests, as shown in the examples below.</li>
<li>When using the API to manage permissions, you must create the permission before granting it. If the permission already exists, the API will return an informative message and you can continue to assign the permission.</li>
</ul>
<h3 id="create-the-user-groups-and-launch-app"><a class="content__anchor" href="#create-the-user-groups-and-launch-app" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="create-services"></a>Create the User Groups and Launch App</h3>
<ol>
<li>
<p>Use the following command to create a Marathon group (<code>&lt;gid&gt;</code>).</p>
<pre><code class="language-bash">curl -X POST --cacert dcos-ca.crt \
$(dcos config show core.dcos_url)/service/marathon/v2/groups \
-d '{&quot;id&quot;:&quot;&lt;gid&gt;&quot;}' \
-H &quot;Content-type: application/json&quot; \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot;
</code></pre>
</li>
<li>
<p>Use the following command to deploy a simple application (<code>&lt;service-name&gt;</code>) inside of <code>&lt;gid&gt;</code>.</p>
<pre><code class="language-bash">curl -X POST --cacert dcos-ca.crt \
$(dcos config show core.dcos_url)/service/marathon/v2/apps \
-d '{&quot;id&quot;:&quot;/&lt;gid&gt;/&lt;service-name&gt;&quot;,&quot;cmd&quot;:&quot;sleep 1000000000&quot;}' \
-H &quot;Content-type: application/json&quot; \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot;
</code></pre>
</li>
</ol>
<h3 id="create-and-grant-the-permissions"><a class="content__anchor" href="#create-and-grant-the-permissions" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="grant-perms"></a>Create and grant the permissions</h3>
<ol>
<li>
<p>Use the following commands to create the permissions for your group (<code>&lt;gid&gt;</code>).</p>
<pre><code class="language-bash">curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:adminrouter:ops:mesos \
-d '{&quot;description&quot;:&quot;Grants access to the Mesos master API/UI and task details&quot;}'
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:adminrouter:ops:slave \
-d '{&quot;description&quot;:&quot;Grants access to the Mesos agent API/UI and task details such as logs&quot;}'
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:master:framework:role:slave_public \
-d '{&quot;description&quot;:&quot;Grants access to register as or view Mesos master information about frameworks registered with the slave_public role&quot;}'
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:master:executor:app_id:%252F&lt;gid&gt; \
-d '{&quot;description&quot;:&quot;Controls access to executors running inside &lt;gid&gt;&quot;}'
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:master:task:app_id:%252F&lt;gid&gt; \
-d '{&quot;description&quot;:&quot;Grants access to the tasks on the Mesos master that are running inside of &lt;gid&gt;&quot;}'
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:agent:framework:role:slave_public \
-d '{&quot;description&quot;:&quot;Grants access to view Mesos agent information about frameworks registered with the slave_public role&quot;}'
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:agent:executor:app_id:%252F&lt;gid&gt; \
-d '{&quot;description&quot;:&quot;Grants access to executors running on the Mesos agent inside &lt;gid&gt;&quot;}'
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:agent:task:app_id:%252F&lt;gid&gt; \
-d '{&quot;description&quot;:&quot;Grants access to tasks running on the Mesos agent inside &lt;gid&gt;&quot;}'
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; \
-H 'Content-Type: application/json' $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:agent:sandbox:app_id:%252F&lt;gid&gt; \
-d '{&quot;description&quot;:&quot;Grants access to the sandboxes on the Mesos agent inside &lt;gid&gt;&quot;}'
</code></pre>
</li>
<li>
<p>Use the following commands to grant the permissions to the user (<code>&lt;username&gt;</code>). These will allow her to view the task logs in <code>&lt;gid&gt;</code>.</p>
<pre><code class="language-bash">curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:adminrouter:ops:mesos/users/&lt;username&gt;/full
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:adminrouter:ops:slave/users/&lt;username&gt;/full
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:master:framework:role:slave_public/users/&lt;username&gt;/read
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:master:executor:app_id:%252F&lt;gid&gt;/users/&lt;username&gt;/read
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:master:task:app_id:%252F&lt;gid&gt;/users/&lt;username&gt;/read
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:agent:framework:role:slave_public/users/&lt;username&gt;/read
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:agent:executor:app_id:%252F&lt;gid&gt;/users/&lt;username&gt;/read
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:agent:task:app_id:%252F&lt;gid&gt;/users/&lt;username&gt;/read
curl -X PUT --cacert dcos-ca.crt \
-H &quot;Authorization: token=$(dcos config show core.dcos_acs_token)&quot; $(dcos config show core.dcos_url)/acs/api/v1/acls/dcos:mesos:agent:sandbox:app_id:%252F&lt;gid&gt;/users/&lt;username&gt;/read
</code></pre>
</li>
</ol>
<p>Now you can <a href="#verifying-access">verify access</a>.</p>
<h1 id="verifying-access"><a class="content__anchor" href="#verifying-access" aria-hidden="true"><i data-feather="bookmark"></i></a>Verifying Access</h1>
<ol>
<li>
<p>Log into the DC/OS CLI as the user.</p>
<pre><code class="language-bash">dcos auth login
</code></pre>
</li>
<li>
<p>Run this command to access the logs for a service which the user has access.</p>
<pre><code class="language-bash">dcos task log --follow &lt;service-name&gt;
</code></pre>
<p>For example, if your service name is <code>alice-service</code>:</p>
<pre><code class="language-bash">dcos task log --follow alice-service
</code></pre>
<p>The output should resemble:</p>
<pre><code class="language-bash">Executing pre-exec command '{&quot;arguments&quot;:[&quot;mesos-containerizer&quot;,&quot;mount&quot;,&quot;--help=false&quot;,&quot;--operation=make-rslave&quot;,&quot;--path=\/&quot;],&quot;shell&quot;:false,&quot;value&quot;:&quot;\/opt\/mesosphere\/active\/mesos\/libexec\/mesos\/mesos-containerizer&quot;}'
Executing pre-exec command '{&quot;shell&quot;:true,&quot;value&quot;:&quot;mount -n -t proc proc \/proc -o nosuid,noexec,nodev&quot;}'
Executing pre-exec command '{&quot;arguments&quot;:[&quot;mount&quot;,&quot;-n&quot;,&quot;-t&quot;,&quot;ramfs&quot;,&quot;ramfs&quot;,&quot;\/var\/lib\/mesos\/slave\/slaves\/151ee739-d2b9-4024-8dbd-1345148774df-S1\/frameworks\/151ee739-d2b9-4024-8dbd-1345148774df-0001\/executors\/dev-group_alice-service.363072a5-65b5-11e7-a133-1a6ac27c9efe\/runs\/b46bea37-f3bb-4d9b-b0b9-00b1215c8404\/.secret-48e7541e-6634-4c25-9185-986255249439&quot;],&quot;shell&quot;:false,&quot;value&quot;:&quot;mount&quot;}'
</code></pre>
<p>If you do not have the correct permissions, you will see this output:</p>
<pre><code class="language-bash">You are not authorized to perform this operation
</code></pre>
</li>
</ol>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h1"><a href="#via-the-dcos-web-interface">Via the DC/OS web interface</a></li><li class="content__sections-item content__sections-item--h1"><a href="#via-the-iam-api">Via the IAM API</a></li><li class="content__sections-item content__sections-item--h1"><a href="#verifying-access">Verifying Access</a></li></ul></div></aside></main></div></div><script src="/assets/js/jquery-3.2.1.js"></script><script src="/assets/js/clipboard.js"></script><script src="/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>