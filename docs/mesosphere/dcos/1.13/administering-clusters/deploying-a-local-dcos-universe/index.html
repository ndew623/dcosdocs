<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Deploying a Local Catalog - D2iQ Docs</title><meta name="description" content="Installing and running DC/OS services on a local Catalog datacenter"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/1.13/administering-clusters/deploying-a-local-dcos-universe">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 1.13"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/administering-clusters">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/administering-clusters">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/deploying-a-local-dcos-universe">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 1.13</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/sshcluster/">SSHing into Nodes</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/locate-public-agent/">Finding a Public Agent IP</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/multiple-clusters/"><i data-feather="chevron-right"></i>Multiple Clusters</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/component-management/">Component Management</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/backup-and-restore/"><i data-feather="chevron-right"></i>Backup and Restore</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/securing-your-cluster/">Securing a cluster</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/managing-aws/">Managing AWS</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/package-registry/">Package Registry</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/convert-agent-type/">Converting Agent Node Types</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/add-a-node/">Adding Agent Nodes</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/replacing-a-master-node/">Replace a master node</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/update-a-node/">Updating Nodes</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/delete-node/">Shut Down and Decommission Nodes</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/recovering-agent-disk-space/">Recovering Agent Disk Space</a></li><li class="active active-on"><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/deploying-a-local-dcos-universe/">Deploying a Local Catalog</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/licenses/"><i data-feather="chevron-right"></i>Licenses</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/1.13/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2022 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Deploying a Local Catalog</h1></div><h4 class="content__header-description">Installing and running DC/OS services on a local Catalog datacenter</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/1.13/administering-clusters/deploying-a-local-dcos-universe/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><p class="message--important"><strong>IMPORTANT: </strong> If you are using DC/OS Enterprise, use <tt>package-registry</tt> for seamless management of packages in air gapped environments. Local Catalog support is deprecated.</p>
<p>You can install and run DC/OS services on a datacenter without Internet access by using a local <a href="https://github.com/mesosphere/universe">Catalog</a>. You can deploy a local Catalog that includes all Certified packages (basic), or a local Catalog that includes selected packages (advanced).</p>
<p><strong>Prerequisites:</strong></p>
<ul>
<li>
<p><a href="/dcosdocs/mesosphere/dcos/1.13/cli/install/">DC/OS CLI installed</a>.</p>
</li>
<li>
<p>Logged into the DC/OS CLI. On DC/OS Enterprise, you must be logged in as a user with the <code>dcos:superuser</code> permission.</p>
</li>
</ul>
<p class="message--note"><strong>NOTE: </strong>As the Catalog tarball is over two gigabytes in size it may take some time to download it to your local drive and upload it to each master.</p>
<h1 id="certified-catalog-packages"><a class="content__anchor" href="#certified-catalog-packages" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="certified"></a>Certified Catalog packages</h1>
<p>This section explains how to deploy a local Catalog containing certified Catalog packages.</p>
<ol>
<li>
<p>From a terminal prompt, use the following commands to download the local Catalog and its service definitions onto your local drive.</p>
<pre><code class="language-bash">curl -v https://s3.amazonaws.com/downloads.mesosphere.io/universe/public/local-universe.tar.gz -o local-universe.tar.gz
curl -v https://raw.githubusercontent.com/mesosphere/universe/version-3.x/docker/local-universe/dcos-local-universe-http.service -o dcos-local-universe-http.service
curl -v https://raw.githubusercontent.com/mesosphere/universe/version-3.x/docker/local-universe/dcos-local-universe-registry.service -o dcos-local-universe-registry.service
</code></pre>
</li>
<li>
<p>Use <a href="https://linux.die.net/man/1/scp">secure copy</a> (scp) to transfer the Catalog and registry files to a master node, replacing <code>&lt;master-IP&gt;</code> with the public IP address of a master before issuing the following commands. (You can find the public IP address of a master in the top left corner of the DC/OS UI.)</p>
<pre><code class="language-bash">scp local-universe.tar.gz core@&lt;master-IP&gt;:~
scp dcos-local-universe-http.service core@&lt;master-IP&gt;:~
scp dcos-local-universe-registry.service core@&lt;master-IP&gt;:~
</code></pre>
</li>
<li>
<p><a href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/sshcluster/">SSH</a> into the master using the following command. Replace <code>&lt;master-IP&gt;</code> with the IP address used in the previous commands.</p>
<pre><code class="language-bash">ssh -A core@&lt;master-IP&gt;
</code></pre>
</li>
<li>
<p>Confirm that the files were successfully copied.</p>
<pre><code>ls
</code></pre>
<p>You should see the following files listed.</p>
<pre><code>dcos-local-universe-http.service  
dcos-local-universe-registry.service  
local-universe.tar.gz
</code></pre>
</li>
<li>
<p>Move the registry files into the <code>/etc/systemd/system/</code> directory.</p>
<pre><code>sudo mv dcos-local-universe-registry.service /etc/systemd/system/
sudo mv dcos-local-universe-http.service /etc/systemd/system/
</code></pre>
</li>
<li>
<p>Confirm that the files were successfully copied into <code>/etc/systemd/system/</code>.</p>
<pre><code class="language-bash">ls -la /etc/systemd/system/dcos-local-universe-*
</code></pre>
</li>
<li>
<p>Load the Catalog into the local Docker instance. This may take some time to complete.</p>
<pre><code class="language-bash">sudo docker load &lt; local-universe.tar.gz
</code></pre>
</li>
<li>
<p>Restart the <code>systemd</code> daemon.</p>
<pre><code class="language-bash">sudo systemctl daemon-reload
</code></pre>
</li>
<li>
<p>Enable and start the <code>dcos-local-universe-http</code> and <code>dcos-local-universe-registry</code> services.</p>
<pre><code class="language-bash">sudo systemctl enable dcos-local-universe-http
sudo systemctl enable dcos-local-universe-registry
sudo systemctl start dcos-local-universe-http
sudo systemctl start dcos-local-universe-registry
</code></pre>
</li>
<li>
<p>Use the following commands to confirm that the services are now up and running.</p>
<pre><code class="language-bash">sudo systemctl status dcos-local-universe-http
sudo systemctl status dcos-local-universe-registry
</code></pre>
</li>
</ol>
<h2 id="configuring-multiple-masters"><a class="content__anchor" href="#configuring-multiple-masters" aria-hidden="true"><i data-feather="bookmark"></i></a>Configuring multiple masters</h2>
<p>If you only have one master, skip to <a href="#linking">Linking local Catalog to master</a> below. If you have multiple masters, continue with the following procedure.</p>
<ol>
<li>
<p>Use the following command to discover the private IP addresses of all of your masters. Identify the private IP address of the master you are SSHed into right now from the list. It will match the path shown after <code>core@ip-</code> in your prompt, where the hyphens become periods.</p>
<pre><code>host master.mesos
</code></pre>
</li>
<li>
<p>Use <a href="https://linux.die.net/man/1/scp">secure copy</a> to transfer the Catalog and registry files to one of the other masters. Replace <code>&lt;master-IP&gt;</code> with the IP address of the other master.</p>
<pre><code class="language-bash">scp local-universe.tar.gz core@&lt;master-IP&gt;:~
scp /etc/systemd/system/dcos-local-universe-registry.service core@&lt;master-IP&gt;:~
scp /etc/systemd/system/dcos-local-universe-http.service core@&lt;master-IP&gt;:~
</code></pre>
</li>
<li>
<p><a href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/sshcluster/">SSH</a> into the master that you just copied these files to.</p>
<pre><code class="language-bash">ssh -A core@&lt;master_IP&gt;
</code></pre>
</li>
<li>
<p>Confirm that the files were successfully copied.</p>
<pre><code>ls
</code></pre>
<p>You should see the following files listed.</p>
<pre><code>dcos-local-universe-http.service  dcos-local-universe-registry.service  local-universe.tar.gz
</code></pre>
</li>
<li>
<p>Move the registry files into the <code>/etc/systemd/system/</code> directory.</p>
<pre><code>sudo mv dcos-local-universe-registry.service /etc/systemd/system/
sudo mv dcos-local-universe-http.service /etc/systemd/system/
</code></pre>
</li>
<li>
<p>Confirm that the files were successfully copied into <code>/etc/systemd/system/</code>.</p>
<pre><code class="language-bash">ls -la /etc/systemd/system/dcos-local-universe-*
</code></pre>
</li>
<li>
<p>Load the Catalog into the local Docker instance. This may take some time to complete.</p>
<pre><code>sudo docker load &lt; local-universe.tar.gz
</code></pre>
</li>
<li>
<p>Restart the Docker daemon.</p>
<pre><code class="language-bash">sudo systemctl daemon-reload
</code></pre>
</li>
<li>
<p>Start the <code>dcos-local-universe-http</code> and <code>dcos-local-universe-registry</code> services.</p>
<pre><code class="language-bash">sudo systemctl start dcos-local-universe-http
sudo systemctl start dcos-local-universe-registry
</code></pre>
</li>
<li>
<p>Confirm that the services are now up and running.</p>
<pre><code class="language-bash">sudo systemctl status dcos-local-universe-http
sudo systemctl status dcos-local-universe-registry
</code></pre>
</li>
</ol>
<p>Repeat this section until you have completed this procedure for all of your masters. Then continue to the Linking local Catalog to master section below.</p>
<p><a name="linking"></a></p>
<h2 id="linking-local-catalog-to-master"><a class="content__anchor" href="#linking-local-catalog-to-master" aria-hidden="true"><i data-feather="bookmark"></i></a>Linking local Catalog to master</h2>
<ol>
<li>
<p>Close the SSH session by typing <code>exit</code>, or open a new terminal prompt. You may have to exit more than one SSH session if you have multiple masters.</p>
</li>
<li>
<p>(Optional) Use the following command to remove the references to the default Catalog from your cluster. If you want to leave the default Catalog in place and just add the local Catalog as an additional repository, skip to the next step. You can also remove the references to the default Catalog repository from <strong>Settings</strong> &gt; <strong>Package Repositories</strong> in the DC/OS web interface.</p>
<pre><code class="language-bash">dcos package repo remove Catalog
</code></pre>
</li>
</ol>
<ol>
<li>
<p>Use the following command to add a reference to the local Catalogs that you added to each master.</p>
<pre><code class="language-bash">dcos package repo add local-Catalog http://master.mesos:8082/repo
</code></pre>
</li>
<li>
<p><a href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters/sshcluster/">SSH into one of your agent nodes.</a></p>
<pre><code class="language-bash">dcos node ssh --master-proxy --mesos-id=&lt;mesos-id&gt;
</code></pre>
</li>
<li>
<p>Use the following commands to download a copy of the DC/OS certificate locally and set it as trusted.</p>
<pre><code class="language-bash">sudo mkdir -p /etc/docker/certs.d/master.mesos:5000
sudo curl -o /etc/docker/certs.d/master.mesos:5000/ca.crt http://master.mesos:8082/certs/domain.crt
sudo systemctl restart docker
</code></pre>
</li>
<li>
<p>Configure the Apache Mesos fetcher to trust the downloaded Docker certificate.</p>
<ol>
<li>Copy the certificate:</li>
</ol>
<pre><code>sudo cp /etc/docker/certs.d/master.mesos:5000/ca.crt /var/lib/dcos/pki/tls/certs/docker-registry-ca.crt
</code></pre>
<ol>
<li>Generate a hash:</li>
</ol>
<pre><code>cd /var/lib/dcos/pki/tls/certs/
openssl x509 -hash -noout -in docker-registry-ca.crt
</code></pre>
<ol>
<li>Create a soft link. You will need to create the <code>/pki/tls/certs</code> directory on the public agent.</li>
</ol>
<pre><code>sudo ln -s /var/lib/dcos/pki/tls/certs/docker-registry-ca.crt /var/lib/dcos/pki/tls/certs/&lt;hash_number&gt;.0
</code></pre>
</li>
<li>
<p>Close the SSH session by typing <code>exit</code>, or open a new terminal prompt. Repeat these steps on each agent node.</p>
</li>
<li>
<p>To verify your success, log into the DC/OS web interface and click the <strong>Catalog</strong> tab. You should see a list of Certified packages. Install one of the packages.</p>
</li>
</ol>
<h3 id="faq"><a class="content__anchor" href="#faq" aria-hidden="true"><i data-feather="bookmark"></i></a>FAQ</h3>
<ul>
<li>
<p><strong>I can’t install CLI subcommands</strong></p>
<p>Packages are hosted at <code>master.mesos:8082</code>. If you cannot resolve or connect to <code>master.mesos:8082</code> from your DC/OS CLI install, you cannot install CLI subcommands. If you can connect to port 8082 on your masters, add the IP for one of the masters to <code>/etc/hosts</code>.</p>
</li>
<li>
<p><strong>The images are broken</strong></p>
<p>All Catalog components are hosted inside of your cluster, including the images. The components are served up by <code>master.mesos:8082</code>. If you have connectivity to that IP, you can add it to <code>/etc/hosts</code> and get the images working.</p>
</li>
<li>
<p><strong>I don’t see the package I was looking for</strong></p>
<p>By default, only Certified packages are bundled. If you’d like to get something else, use the instructions in the next section.</p>
</li>
</ul>
<h1 id="selected-packages"><a class="content__anchor" href="#selected-packages" aria-hidden="true"><i data-feather="bookmark"></i></a><a name="build"></a>Selected packages</h1>
<p><strong>Prerequisite:</strong> <a href="https://git-scm.com/">Git</a>. On Unix/Linux, see these <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" target="_blank">installation instructions</a>.</p>
<p>To deploy a local Catalog containing your own set of packages you must build a customized local Catalog Docker image.</p>
<ol>
<li>
<p>Clone the Catalog repository:</p>
<pre><code class="language-bash">git clone https://github.com/mesosphere/universe.git --branch version-3.x
</code></pre>
</li>
<li>
<p>Build the <code>universe-base</code> image:</p>
<pre><code class="language-bash">cd universe/docker/local-universe/
sudo make base
</code></pre>
</li>
<li>
<p>Build the <code>mesosphere/universe</code> Docker image and compress it to the <code>local-universe.tar.gz</code>
file. Specify a comma-separated list of package names and versions using the <code>DCOS_PACKAGE_INCLUDE</code>
variable. To minimize the container size and download time, you can select only what you need. If you do not use the <code>DCOS_PACKAGE_INCLUDE</code> variable, all Certified Catalog packages are
included. To view which packages are Certified, click the <strong>Catalog</strong> tab in the DC/OS web
interface.</p>
<pre><code class="language-bash">sudo make DCOS_VERSION=1.13 DCOS_PACKAGE_INCLUDE=&quot;cassandra:1.0.25-3.0.10,marathon:1.4.2&quot; local-universe
</code></pre>
</li>
<li>
<p>Perform all of the steps as described in <a href="#certified">Certified Catalog packages</a>.</p>
</li>
</ol>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h1"><a href="#certified-catalog-packages">Certified Catalog packages</a></li><li class="content__sections-item content__sections-item--h2"><a href="#configuring-multiple-masters">Configuring multiple masters</a></li><li class="content__sections-item content__sections-item--h2"><a href="#linking-local-catalog-to-master">Linking local Catalog to master</a></li><li class="content__sections-item content__sections-item--h1"><a href="#selected-packages">Selected packages</a></li></ul></div></aside></main></div></div><script src="/assets/js/jquery-3.2.1.js"></script><script src="/assets/js/clipboard.js"></script><script src="/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>