<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Tutorial - Installing the First Package - D2iQ Docs</title><meta name="description" content="Part 2 of the DC/OS 101 tutorial"><link rel="apple-touch-icon" sizes="180x180" href="/dcosdocs/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/dcosdocs/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/dcosdocs/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/dcosdocs/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/dcosdocs/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/2.1/tutorials/dcos-101/redis-package">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 2.1"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/tutorials/dcos-101/redis-package">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/redis-package">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/tutorials/dcos-101/redis-package">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/tutorials/dcos-101">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 2.1</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/multi-tenancy/"><i data-feather="chevron-right"></i>Multi-Tenancy for DC/OS Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><ul><li class="active"><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/"><i data-feather="chevron-right"></i>DC/OS 101</a></li><ul><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/cli/">First Steps</a></li><li class="active active-on"><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/redis-package/">Installing the First Package</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/app1/">Deploying First Application</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/service-discovery/">Service Discovery</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/app2/">Native Applications</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/marathon-lb/">Exposing Apps Publicly</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/resources/">Understanding Resources</a></li><li><a class="d2" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/loadbalancing/">Load-Balancing</a></li></ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/create-service/">Creating and Running a Service</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/stateful-services/">Running Stateful Services on DC/OS</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/autoscaling/"><i data-feather="chevron-right"></i>Autoscaling with Marathon</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/iot_pipeline/">Deploying a Load-Balanced Data Pipeline</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/deploy-on-marathon/">Deploying Marathon Apps with Jenkins</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/task-labels/">Labeling Tasks and Jobs</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-debug/"><i data-feather="chevron-right"></i>Debugging Applications on DC/OS</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2022 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Tutorial - Installing the First Package</h1></div><h4 class="content__header-description">Part 2 of the DC/OS 101 tutorial</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/redis-package/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><!-- This disclaimer should be included at the beginning of each page of a tutorial. -->
<p class="message--important"><strong>IMPORTANT: </strong>Tutorials are intended to give you hands-on experience working with a limited set of DC/OS features with no implied or explicit warranty of any kind. None of the information provided--including sample scripts, commands, or applications--is officially supported by Mesosphere. You should not use this information in a production environment without independent testing and validation.</p>
<p>Welcome to part 2 of the DC/OS 101 Tutorial.</p>
<h1 id="prerequisites"><a class="content__anchor" href="#prerequisites" aria-hidden="true"><i data-feather="bookmark"></i></a>Prerequisites</h1>
<p>By now, you should have a running DC/OS cluster and the DC/OS CLI installed and configured. If that isn’t the case, please follow the <a href="/dcosdocs/mesosphere/dcos/2.1/tutorials/dcos-101/cli/">first</a> part of this tutorial.
The next stage of this tutorial uses <a href="https://stedolan.github.io/jq/">jq</a>, a command line JSON processor to simplify some of the commands. Follow the instructions <a href="https://stedolan.github.io/jq/download/">here</a> to install JQ for your operating system.</p>
<h1 id="objective"><a class="content__anchor" href="#objective" aria-hidden="true"><i data-feather="bookmark"></i></a>Objective</h1>
<p>By the end of this session you will have installed your first service - <a href="https://redislabs.com/">Redis</a> - from the DC/OS Catalog repository. Redis is a key-value store, which you will use for persisting data in this tutorial.</p>
<h1 id="steps"><a class="content__anchor" href="#steps" aria-hidden="true"><i data-feather="bookmark"></i></a>Steps</h1>
<ul>
<li>
<p>Install Redis</p>
<ul>
<li>
<p>Search the Catalog repository for Redis packages:</p>
<pre><code class="language-bash">dcos package search redis
</code></pre>
<p>This should return two entries (mr-redis and redis).</p>
</li>
<li>
<p>You are interested in the Redis package, which installs a single Redis container. Install the package with this command:</p>
<pre><code class="language-bash">dcos package install redis
</code></pre>
</li>
</ul>
</li>
<li>
<p>You can use any of the following methods to check that Redis is running:</p>
<ul>
<li>By looking at the GUI: The Redis task should be displayed in the Service Health tab along with the health status.</li>
<li>By looking at all DC/OS tasks with the <code>dcos task</code> command. This command will show us all running DC/OS tasks (i.e. Mesos tasks).</li>
<li>By looking at all Marathon apps: <code>dcos marathon app list</code>. This command will show us all running Marathon apps. Since services are started via Marathon, you should see Redis here as well. Note that the health status (i.e. 1/1) is also shown here.</li>
<li>By looking at the Redis log: <code>dcos task log redis</code>. This command will show us the logs (stdout and stderr) of the Redis task. This allows you to check whether the actual startup was successful. You can increase the number of log lines displayed by using the <code>--lines=</code> argument, the default is 10.</li>
</ul>
</li>
<li>
<p>Let’s use Redis by storing a key manually via the redis-cli command</p>
<ul>
<li>
<p><a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/sshcluster/">SSH</a> into the node where Redis is running:</p>
<pre><code class="language-bash">dcos node ssh --master-proxy --mesos-id=$(dcos task  redis --json |  jq -r '.[] | .slave_id')
</code></pre>
</li>
<li>
<p>Because Redis is running in a Docker container, you can list all Docker containers using <code>docker ps</code> and get the ContainerID of the container running the Redis service.</p>
</li>
<li>
<p>Start a bash session in the running container, substituting CONTAINER_ID with the ContainerID you got from the previous command:</p>
<pre><code class="language-bash">sudo docker exec -i -t CONTAINER_ID  /bin/bash
</code></pre>
</li>
<li>
<p>Start the Redis CLI:</p>
<pre><code class="language-bash">redis-cli
</code></pre>
</li>
<li>
<p>Set a key with a value:</p>
<pre><code class="language-bash">set mykey key1
</code></pre>
</li>
<li>
<p>Check the value is there:</p>
<pre><code class="language-bash">get mykey
</code></pre>
</li>
</ul>
</li>
</ul>
<h1 id="outcome"><a class="content__anchor" href="#outcome" aria-hidden="true"><i data-feather="bookmark"></i></a>Outcome</h1>
<p>You have just successfully installed your first service from the Catalog repository and verified it is running!</p>
<h1 id="deep-dive"><a class="content__anchor" href="#deep-dive" aria-hidden="true"><i data-feather="bookmark"></i></a>Deep Dive</h1>
<p><a href="https://github.com/mesosphere/universe">Catalog</a> is a package repository made available for DC/OS Clusters.
It enables you to easily install services such as Apache Spark or Apache Cassandra in your cluster without having to deal with manual configuration. Catalog packages are developed and maintained by many different contributors.</p>
<p>There are currently two categories of packages:</p>
<ol>
<li>Curated packages that have undergone testing and certification.</li>
<li>Community contributed packages, which may not be as well tested.</li>
</ol>
<p>You can also add your own repo that includes your custom packages. See the <a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/package-registry/">documentation</a> for details.</p>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h1"><a href="#prerequisites">Prerequisites</a></li><li class="content__sections-item content__sections-item--h1"><a href="#objective">Objective</a></li><li class="content__sections-item content__sections-item--h1"><a href="#steps">Steps</a></li><li class="content__sections-item content__sections-item--h1"><a href="#outcome">Outcome</a></li><li class="content__sections-item content__sections-item--h1"><a href="#deep-dive">Deep Dive</a></li></ul></div></aside></main></div></div><script src="/dcosdocs/assets/js/jquery-3.2.1.js"></script><script src="/dcosdocs/assets/js/clipboard.js"></script><script src="/dcosdocs/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>