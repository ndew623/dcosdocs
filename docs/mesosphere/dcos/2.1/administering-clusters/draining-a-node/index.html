<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width" initial-scale="1" user-scalable="no"><title>Draining a Node - D2iQ Docs</title><meta name="description" content="Draining an agent node in an active DC/OS cluster"><link rel="apple-touch-icon" sizes="180x180" href="/dcosdocs/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/dcosdocs/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/dcosdocs/assets/favicon-16x16.png"><link rel="stylesheet" type="text/css" href="/dcosdocs/css/styles.css"><link rel="search" type="application/opensearchdescription+xml" href="/dcosdocs/assets/opensearch.xml" title="Search"><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet"><script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script><script>window.analytics||(window.analytics=[]),window.analytics.methods=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION="2.0.8",
window.analytics.load("7sgtwqvuai");
window.analytics.page();</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PBJ84KX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PBJ84KX');</script></head><body><div class="layout"><header class="header"><a class="header__drawer"><i class="header__icon" data-feather="menu"></i></a><a class="header__logo" href="/"><img class="header__logo--mobile" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"><img class="header__logo--desktop" src="/dcosdocs/assets/D2iQ_Logotype_Color_Positive_Documentation.svg" alt="D2IQ"></a><div class="header__main"><div class="header__dropdown"><img class="header__dropdown-icon" src="/dcosdocs/assets/D2IQ_Logotype_Color_Positive.png" alt="D2iQ"><strong>DC/OS Documentation</strong><i data-feather="chevron-down"></i></div><nav class="header__menu"><ul class="header__menu-list"><li class="header__menu-item"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header__menu-item"><a href="/dcosdocs/mesosphere/dcos/services">Services</a></li><li class="header__menu-item"><a href="https://support.d2iq.com">Support</a></li></ul></nav></div><div class="chooser" id="localizer"><div class="chooser-current"><a class="chooser-title">English</a><svg class="chooser-svg" id="localizer-svg"><path class="pointer" d="m 13,6 -5,5 -5,-5 z" fill="#858585"></path></svg></div><ul class="chooser-list" id="localizer-list"><li class="chooser-list-item"><a href="/dcosdocs/mesosphere/dcos/cn/2.1/administering-clusters/draining-a-node">中文 (简体)</a></li></ul></div><section class="header__search" role="search"><form class="header__search-form" action="/search/"><input class="header__search-input" id="header-search-input" tabindex="1" type="text" name="q" placeholder="Search"><input type="hidden" name="hFR[scope][0]" value="DC/OS 2.1"><label class="header__search-label" for="header-search-input"><i class="header__icon" data-feather="search"></i></label></form></section></header><div class="header-dropdown"><ul class="header-dropdown__list"><li class="header-dropdown__top-item"><div>DKP</div></li><li class="header-dropdown__item"><a href="/dkp/konvoy">Konvoy</a></li><li class="header-dropdown__item"><a href="/dkp/kommander">Kommander</a></li><li class="header-dropdown__item"><a href="/dkp/dispatch">Dispatch</a></li><li class="header-dropdown__item"><a href="/dkp/kaptain">Kaptain</a></li><li class="header-dropdown__top-item"><div>Mesosphere</div></li><li class="header-dropdown__item header-dropdown__item--active"><a href="/mesosphere/dcos">DC/OS</a></li><li class="header-dropdown__item"><a href="/dcosdocs/mesosphere/dcos/services">DC/OS Services</a></li><li class="header-dropdown__item"><a href="https://support.d2iq.com">Support</a></li></ul></div><div class="layout__sidebar layout__drawer"><section class="sidebar"><header class="sidebar__header"><div class="sidebar__dropdown"><ul><li><a href="/dcosdocs/mesosphere/dcos/2.2/administering-clusters/draining-a-node">Mesosphere DC/OS 2.2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/draining-a-node">Mesosphere DC/OS 2.1.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/2.0/administering-clusters/draining-a-node">Mesosphere DC/OS 2.0</a></li><li><a href="/dcosdocs/mesosphere/dcos/1.13/administering-clusters">Mesosphere DC/OS 1.13</a></li></ul><div class="toggle"><p><span class="title">DC/OS</span><span class="version"> 2.1</span></p><i data-feather="chevron-down"></i></div></div></header><nav class="sidebar_nav" role="navigation"><ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/release-notes/"><i data-feather="chevron-right"></i>Release Notes</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/overview/"><i data-feather="chevron-right"></i>Overview</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/installing/"><i data-feather="chevron-right"></i>Installing</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/gui/"><i data-feather="chevron-right"></i>GUI</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/cli/"><i data-feather="chevron-right"></i>CLI</a></li><li class="active"><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/"><i data-feather="chevron-right"></i>Administering Clusters</a></li><ul><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/sshcluster/">SSHing into Nodes</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/locate-public-agent/">Finding a Public Agent IP</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/multiple-clusters/"><i data-feather="chevron-right"></i>Multiple Clusters</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/component-management/">Component Management</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/backup-and-restore/"><i data-feather="chevron-right"></i>Backup and Restore</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/securing-your-cluster/">Securing a cluster</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/managing-aws/">Managing AWS</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/package-registry/">Package Registry</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/convert-agent-type/">Converting Agent Node Types</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/add-a-node/">Adding Agent Nodes</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/replacing-a-master-node/">Replace a master node</a></li><li class="active active-on"><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/draining-a-node/">Draining a Node</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/delete-node/">Shut Down and Decommission Nodes</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/recovering-agent-disk-space/">Recovering Agent Disk Space</a></li><li><a class="d1" href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/licenses/"><i data-feather="chevron-right"></i>Licenses</a></li></ul><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/networking/"><i data-feather="chevron-right"></i>Networking</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/security/"><i data-feather="chevron-right"></i>Security</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/storage/"><i data-feather="chevron-right"></i>Storage</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/metrics/"><i data-feather="chevron-right"></i>Metrics</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/monitoring/"><i data-feather="chevron-right"></i>Monitoring, Logging, and Debugging</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/multi-tenancy/"><i data-feather="chevron-right"></i>Multi-Tenancy for DC/OS Clusters</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/hybrid-cloud/"><i data-feather="chevron-right"></i>Hybrid Cloud</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/deploying-jobs/"><i data-feather="chevron-right"></i>Deploying Jobs</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/deploying-services/"><i data-feather="chevron-right"></i>Deploying Services and Pods</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/tutorials/"><i data-feather="chevron-right"></i>Tutorials</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/api/"><i data-feather="chevron-right"></i>API Reference</a></li><li><a class="d0" href="/dcosdocs/mesosphere/dcos/2.1/developing-services/"><i data-feather="chevron-right"></i>Developing DC/OS Services</a></li></ul></nav><footer class="sidebar__footer"><div class="sidebar__footer-links"><a href="https://d2iq.com/terms/">Terms of Service</a><a href="https://d2iq.com/privacy/">Privacy Policy</a></div><a class="sidebar__footer-copyright" href="https://d2iq.com/">&copy; 2022 D2iQ, Inc. All rights reserved.</a></footer></section></div><div class="layout__content" role="main"><main class="content"><div class="content__container content__container--with-sections"><div class="content__header"><div class="content__header__row"><h1 class="content__header-title">Draining a Node</h1></div><h4 class="content__header-description">Draining an agent node in an active DC/OS cluster</h4><div class="actions"><ul class="actions__list"><li class="actions__item"><button class="actions__link" onclick="javascript:window.print()"><i class="actions__icon" data-feather="printer"></i><span class="actions__text">Print</span></button></li><li class="actions__item"><a class="actions__link" href="https://github.com/mesosphere/dcos-docs-site/tree/main/pages/dcosdocs/mesosphere/dcos/2.1/administering-clusters/draining-a-node/index.md" target="_blank"><i class="actions__icon" data-feather="github"></i><span class="actions__text">Contribute</span></a></li></ul></div></div><article class="content__article"><p>You can drain tasks from an agent node in an active DC/OS cluster in order to take the node down for maintenance or to remove it permanently from the cluster. Nodes may be drained and their progress may be monitored via the DC/OS CLI or UI.</p>
<p class="message--warning"><strong>WARNING: </strong>All tasks that are running on the agent will be killed when draining is initiated. Use this feature with caution!</p>
<p class="message--warning"><strong>WARNING: </strong>When the <code>--decommission</code> option is specified, all local persistent data on the node will be lost!</p>
<p>Initiating draining will cause all tasks on the target agent node to receive a kill event immediately, assuming the agent is currently reachable. If the agent is unreachable, initiation of the kill event will be delayed until the agent is reachable by the master again. When the tasks receive a kill event, a SIGTERM signal will be sent to the task to begin the killing process. Depending on the particular task’s behavior, this signal may be sufficient to terminate it. Some tasks may use this signal to begin the process of graceful termination, which may take some time. After some delay, a SIGKILL signal will be sent to the task, which forcefully terminates the task if it is still running. The delay between the SIGTERM and SIGKILL signals is determined by the length of the task’s kill grace period. If no grace period is set for the task, a default value of several seconds will be used depending on configuration.</p>
<h3 id="prerequisites"><a class="content__anchor" href="#prerequisites" aria-hidden="true"><i data-feather="bookmark"></i></a>Prerequisites:</h3>
<ul>
<li><a href="/dcosdocs/mesosphere/dcos/2.1/cli/">DC/OS CLI installed and configured</a>.</li>
<li>Sufficient <a href="/dcosdocs/mesosphere/dcos/2.1/security/ent/perms-reference">permissions</a> to drain nodes (Enterprise DC/OS only).</li>
</ul>
<h3 id="maximum-grace-period"><a class="content__anchor" href="#maximum-grace-period" aria-hidden="true"><i data-feather="bookmark"></i></a>Maximum Grace Period</h3>
<p>It is possible to set a max grace period when draining, which sets an upper bound on the duration of the kill grace period. When this is set, the minimum of the task’s grace period and the max grace period will be used when killing the task.</p>
<h3 id="decommissioning-an-agent-after-draining"><a class="content__anchor" href="#decommissioning-an-agent-after-draining" aria-hidden="true"><i data-feather="bookmark"></i></a>Decommissioning an Agent After Draining</h3>
<p>In some cases, such as autoscaled cloud instances which are later scaled down, you may know that after the node is drained and taken down, it will never come back again. Each agent node is uniquely identified by metadata on its hard disk, so even if other instances are scaled up in the future, if they don’t retain the persisted metadata of the previous instances, they are viewed as new nodes by the DC/OS cluster.</p>
<p>In cases where the unique agent will not return after it is drained and removed from the cluster, you can specify an option which will automatically decommission the node after it has finished draining, which removes the agent’s metadata from the cluster. If this option is not specified, the cluster will remember the agent node in case it reregisters with the cluster later on.</p>
<h2 id="draining-with-the-cli"><a class="content__anchor" href="#draining-with-the-cli" aria-hidden="true"><i data-feather="bookmark"></i></a>Draining with the CLI</h2>
<p>To drain a node with the DC/OS CLI, first locate the Mesos agent ID for the node in the <code>ID</code> column of the following command’s output:</p>
<pre><code class="language-bash">dcos node list
</code></pre>
<p>Then use that ID with the <code>dcos node drain</code> command:</p>
<pre><code class="language-bash">dcos node drain &lt;mesos-agent-id&gt;
</code></pre>
<p>The maximum grace period and/or decommission options may be specified like so:</p>
<pre><code class="language-bash">dcos node drain &lt;mesos-agent-id&gt; --max-grace-period=10m --decommission
</code></pre>
<p>Once draining on an agent has begun, you can monitor the tasks on that node by running:</p>
<pre><code class="language-bash">dcos task list --agent-id=&lt;mesos-agent-id&gt;
</code></pre>
<p>Overall progress of draining on the node may be monitored with the following command:</p>
<pre><code class="language-bash">dcos node list --mesos-id=&lt;mesos-agent-id&gt;
</code></pre>
<p>Locate the <code>STATUS</code> field: the usual status of a node will be <code>ACTIVE</code>. When draining is initiated on the node, it will transition to <code>DRAINING</code>. Once all tasks have been killed and their terminal status updates have been acknowledged by the relevant services, and once all resource operations on the node have finished, it will transition to <code>DRAINED</code>. When the node is in the <code>DRAINED</code> state, draining is complete.</p>
<p>If the <code>--decommission</code> option was included in the initial drain command, the node’s metadata will be automatically removed from the cluster when draining is complete. It’s important to note that decommissioning the node will also cause all local persistent data on that node to be lost. If the decommission option is not specified, the cluster will wait for the node to be manually reactivated when any planned maintenance or other update procedures are finished.</p>
<p>Before performing maintenance, stop the <code>dcos-mesos-slave</code> systemd unit (or <code>dcos-mesos-slave-public</code> for public agents) on the node so that the agent no longer attempts to register with the master:</p>
<pre><code class="language-bash">systemctl stop dcos-mesos-slave
</code></pre>
<h2 id="reactivating-an-agent-node-after-maintenance"><a class="content__anchor" href="#reactivating-an-agent-node-after-maintenance" aria-hidden="true"><i data-feather="bookmark"></i></a>Reactivating an Agent Node After Maintenance</h2>
<p>When maintenance is complete and you are ready to reactivate the node and allow it to rejoin the cluster, you may do so with the following command:</p>
<pre><code class="language-bash">dcos node reactivate &lt;mesos-agent-id&gt;
</code></pre>
<p>Then start the <code>dcos-mesos-slave</code> systemd unit (or <code>dcos-mesos-slave-public</code> for public agents) by executing the following command on the node, and the agent will rejoin the cluster:</p>
<pre><code class="language-bash">systemctl start dcos-mesos-slave
</code></pre>
<h2 id="monitoring-draining-with-the-ui"><a class="content__anchor" href="#monitoring-draining-with-the-ui" aria-hidden="true"><i data-feather="bookmark"></i></a>Monitoring Draining with the UI</h2>
<p>You may also monitor the draining of an agent via the DC/OS UI. To do so, navigate to the <code>Nodes</code> overview pane. The <code>Status</code> column will list either <code>Active</code>, <code>Draining</code>, or <code>Drained</code>, similar to the output of the CLI’s <code>node list</code> command.</p>
<h2 id="notes-regarding-node-draining"><a class="content__anchor" href="#notes-regarding-node-draining" aria-hidden="true"><i data-feather="bookmark"></i></a>Notes Regarding Node Draining</h2>
<p>Once draining is initiated on an agent node, it cannot be cancelled. This command should be used with caution, especially if executed with the <code>--decommission</code> option, as this results in the node’s permanent removal from the cluster when draining is complete.</p>
<p>If a node becomes stuck in the <code>DRAINING</code> state and does not transition to <code>DRAINED</code> after the expected duration (either the duration specified in the <code>--max-grace-period</code> argument, or the longest kill grace period of the tasks running on the node), then it should be inspected to determine the cause. It is not necessary to issue the <code>dcos node drain</code> command again once a node is in the <code>DRAINING</code> state; this will have no effect. If all tasks on the node have terminated, then it’s possible that either a terminal task status update has not been acknowledged by the relevant service, or a resource operation on that node has not finished. To rule out the task status update, inspect the relevant services which were running tasks on the node and ensure that they are running and available. You can list the tasks on the node to discover which services may not have acknowledged their terminal updates:</p>
<pre><code class="language-bash">dcos task list --agent-id=&lt;mesos-agent-id&gt;
</code></pre>
<p>If you determine that a particular task or operation is causing the agent to be stuck in the <code>DRAINING</code> state, you should identify the Mesos framework associated with that task and determine what has happened to it. Likely the framework is either gone and not coming back, or it is running on a node which is partitioned from the cluster. If the framework is definitely gone from the cluster but has left unacknowledged updates behind, you can clean it up manually using the <a href="http://mesos.apache.org/documentation/latest/operator-http-api/#teardown"><code>TEARDOWN</code></a> API call of the Mesos master. Look for the framework’s ID in the <code>frameworks</code> field of the Mesos master’s <a href="http://mesos.apache.org/documentation/latest/operator-http-api/#get_state"><code>GET_STATE</code></a> response.</p>
<p>To rule out a resource operation as the cause of the stuck agent, the <a href="http://mesos.apache.org/documentation/latest/operator-http-api/#get_operations-1"><code>GET_OPERATIONS</code></a> call may be used on the agent node in order to inspect any currently-pending resource operations. If a resource operation is still in the <code>Pending</code> state, the operation may be long-running and take some time to complete, or it may be stuck due to some issue with the storage backend which is actually performing the operation. You should check the storage provider for any issues.</p>
<h2 id="draining-an-agent-node-manually"><a class="content__anchor" href="#draining-an-agent-node-manually" aria-hidden="true"><i data-feather="bookmark"></i></a>Draining an Agent Node Manually</h2>
<p>While the automatic draining procedure described above is likely sufficient for most use cases, it is also possible to drain a node manually when more control over the draining process is required. To do this, first deactivate the node:</p>
<pre><code class="language-bash">dcos node deactivate &lt;mesos-agent-id&gt;
</code></pre>
<p>This will stop any new workloads from being launched on that agent. At this point, the APIs exposed by individual services may be used to kill any tasks running on the node. For example, for typical apps and pods launched via the DC/OS UI, the <a href="/dcosdocs/mesosphere/dcos/2.1/deploying-services/marathon-api/">API of the Marathon container orchestrator</a> can be used to terminate the associated tasks. Once all tasks on the node have been killed, it can be taken down for maintenance, and then reactivated once maintenance is complete:</p>
<pre><code class="language-bash">dcos node reactivate &lt;mesos-agent-id&gt;
</code></pre>
<h2 id="draining-in-the-dcos-console"><a class="content__anchor" href="#draining-in-the-dcos-console" aria-hidden="true"><i data-feather="bookmark"></i></a>Draining in the DC/OS Console</h2>
<p>To drain a node using the DC/OS web-based console:</p>
<ol>
<li>
<p>Open a web browser and log in with administrative user name and password.</p>
</li>
<li>
<p>Click Nodes to display information about your agent nodes.</p>
</li>
<li>
<p>Scroll right to reveal the actions menu for the active node you want to drain.</p>
</li>
<li>
<p>Click Drain and a dialog will appear.</p>
<p>The maximum grace period may be specified in the Drain dialog. This represents the maximum amount of time allowed for tasks to gracefully terminate and overrides a default value of several seconds.</p>
</li>
</ol>
  <p>
    <img src="/dcosdocs/mesosphere/dcos/2.1/img/draining-ui-actions.png" alt="Draining or deactivating a node">
  </p>
<p>The status column in the Nodes overview will change to reflect the maintenance status of the node.</p>
<h2 id="decommissioning-a-node"><a class="content__anchor" href="#decommissioning-a-node" aria-hidden="true"><i data-feather="bookmark"></i></a>Decommissioning a Node</h2>
<p>When draining a node, you have the option to <a href="/dcosdocs/mesosphere/dcos/2.1/administering-clusters/delete-node/">decommission</a> it once draining is complete.</p>
<p class="message--important"><strong>IMPORTANT: </strong>If the decommission option is enabled when draining, the node will be removed from the Nodes overview table altogether and cannot rejoin the cluster</p>
<h2 id="deactivating-reactivating-a-node-for-manual-draining"><a class="content__anchor" href="#deactivating-reactivating-a-node-for-manual-draining" aria-hidden="true"><i data-feather="bookmark"></i></a>Deactivating / Reactivating a Node for Manual Draining</h2>
<p><a href="#draining-an-agent-node-manually">Deactivating the node</a> for manual draining is also possible using the actions menu. When maintenance is complete and you are ready to reactivate the node and allow it to rejoin the cluster, click the Reactivate action from the menu:</p>
<p>
  <img src="/dcosdocs/mesosphere/dcos/2.1/img/draining-ui-reactivate.png" alt="Reactivating a node">
</p>
</article></div><aside class="content__sections"><div class="content__sections-list-container"><ul class="content__sections-list"><li class="content__sections-item content__sections-item--h2"><a href="#draining-with-the-cli">Draining with the CLI</a></li><li class="content__sections-item content__sections-item--h2"><a href="#reactivating-an-agent-node-after-maintenance">Reactivating an Agent Node After Maintenance</a></li><li class="content__sections-item content__sections-item--h2"><a href="#monitoring-draining-with-the-ui">Monitoring Draining with the UI</a></li><li class="content__sections-item content__sections-item--h2"><a href="#notes-regarding-node-draining">Notes Regarding Node Draining</a></li><li class="content__sections-item content__sections-item--h2"><a href="#draining-an-agent-node-manually">Draining an Agent Node Manually</a></li><li class="content__sections-item content__sections-item--h2"><a href="#draining-in-the-dcos-console">Draining in the DC/OS Console</a></li><li class="content__sections-item content__sections-item--h2"><a href="#decommissioning-a-node">Decommissioning a Node</a></li><li class="content__sections-item content__sections-item--h2"><a href="#deactivating-reactivating-a-node-for-manual-draining">Deactivating / Reactivating a Node for Manual Draining</a></li></ul></div></aside></main></div></div><script src="/dcosdocs/assets/js/jquery-3.2.1.js"></script><script src="/dcosdocs/assets/js/clipboard.js"></script><script src="/dcosdocs/assets/js/prism.js"></script><script src="/js/main.js"></script></body></html>